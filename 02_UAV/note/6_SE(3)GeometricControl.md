# æœ€å°æç¾¤çŸ¥è¯†

## ä¸ºä»€ä¹ˆå§¿æ€è¯¯å·®ä¸èƒ½ç”¨â€œæ¬§æ‹‰è§’å·®â€ï¼Ÿ

$$
e = (\phi - \phi_d, \ \theta - \theta_d, \ \psi - \psi_d)
$$

åœ¨è¿™ä¸ªå…¬å¼é‡Œï¼š

- $\phi, \theta, \psi$ï¼šæ˜¯ä½ å½“å‰çš„å§¿æ€ï¼ˆæ»šè½¬ã€ä¿¯ä»°ã€åèˆªï¼‰ã€‚
- $\phi_d, \theta_d, \psi_d$ï¼šä¸‹æ ‡ $d$ ä»£è¡¨ **Desired**ï¼ˆæœŸæœ›ï¼‰ï¼Œå³ä½ å¸Œæœ›é£è¡Œå™¨è¾¾åˆ°çš„å§¿æ€,å¹½çµé£æœºã€‚

**é—®é¢˜åœ¨äºï¼šæ¬§æ‹‰è§’ä¸æ˜¯â€œå§¿æ€æœ¬ä½“â€ï¼Œå®ƒåªæ˜¯â€œæŸä¸€ç§å‚æ•°åŒ–â€ã€‚**æ¬§æ‹‰è§’å°±æ˜¯ä¸€ç§ç»™åœ°çƒï¼ˆçƒä½“è¡¨é¢ï¼‰ç”»æ–¹æ ¼å­çš„æ–¹æ³•ï¼Œå®ƒè¯•å›¾ç”¨ä¸‰ä¸ªç‹¬ç«‹çš„æ•°å­—æ¥æè¿°ä¸€ä¸ªåŸæœ¬æ˜¯ä¸€ä½“çš„æ—‹è½¬è¿åŠ¨ã€‚è¿™ç§â€œå¼ºè¡Œæ‹†åˆ†â€å¯¼è‡´äº†ä¸‹é¢ä¸¤ä¸ªè‡´å‘½ä¼¤ã€‚

### A. å¥‡å¼‚æ€§ï¼ˆGimbal Lock / ä¸‡å‘èŠ‚æ­»é”ï¼‰

å½“$ (\theta \to \pm 90^\circ) $æ—¶ï¼Œæ¬§æ‹‰è§’ä¼šå‡ºç°â€œå¤±å»ä¸€ä¸ªè‡ªç”±åº¦â€çš„ç°è±¡ï¼šåŒä¸€ä¸ªçœŸå®å§¿æ€å˜åŒ–ï¼Œå¯¹æ¬§æ‹‰è§’çš„å˜åŒ–ä¼šå˜å¾—éå¸¸å¤¸å¼ ã€ç”šè‡³ä¸ç¨³å®šã€‚

> å·¥ç¨‹åæœï¼šæ§åˆ¶å™¨ä¼šçªç„¶â€œå‘ç–¯â€ï¼Œå› ä¸ºä½ ç»™å®ƒçš„è¯¯å·®é‡å˜æˆäº†ä¸€ä¸ªä¸å¯é çš„ä¿¡å·ã€‚

æ§åˆ¶æ–¹ç¨‹:å§¿æ€çš„**å˜åŒ–ç‡**ï¼ˆè§’é€Ÿåº¦ $\omega$ï¼‰å’Œ**æ¬§æ‹‰è§’çš„å˜åŒ–ç‡**ï¼ˆ$\dot{\phi}, \dot{\theta}, \dot{\psi}$ï¼‰ä¹‹é—´æœ‰ä¸€ä¸ªè½¬æ¢å…³ç³»çŸ©é˜µï¼š
$$
\begin{bmatrix} \dot{\phi} \\ \dot{\theta} \\ \dot{\psi} \end{bmatrix} = \begin{bmatrix} 1 & \sin\phi \tan\theta & \cos\phi \tan\theta \\ 0 & \cos\phi & -\sin\phi \\ 0 & \frac{\sin\phi}{\cos\theta} & \frac{\cos\phi}{\cos\theta} \end{bmatrix} \begin{bmatrix} \omega_x \\ \omega_y \\ \omega_z \end{bmatrix}
$$
**è¯·ç›¯ç€åˆ†æ¯çœ‹ï¼š** æ³¨æ„åˆ° $\tan\theta$ å’Œ $\frac{1}{\cos\theta}$ äº†å—ï¼Ÿ

- å½“ $\theta \to 90^\circ$ æ—¶ï¼Œ$\cos\theta \to 0$ã€‚
- è¿™æ„å‘³ç€åˆ†æ¯ä¸º 0ï¼Œæ•°å€¼è¶‹å‘äº**æ— ç©·å¤§ ($\infty$)**ã€‚

å¦‚æœæ§åˆ¶ç®—æ³•æ˜¯ç”¨æ¬§æ‹‰è§’å†™çš„ï¼Œå½“é£æœºåšä¸€ä¸ªå¤§æœºåŠ¨ï¼ˆæ¯”å¦‚å‚ç›´çˆ¬å‡ï¼Œ$\theta=90^\circ$ï¼‰ï¼š

1. ä¼ æ„Ÿå™¨æµ‹å¾— $\theta \approx 90^\circ$ã€‚
2. è®¡ç®—æœºè®¡ç®—è¯¯å·®æ—¶ï¼Œé™¤ä»¥äº†ä¸€ä¸ªæ¥è¿‘ 0 çš„æ•°ã€‚
3. è®¡ç®—å‡ºçš„â€œæ§åˆ¶é‡â€ç¬é—´å˜æˆå·¨å¤§çš„æ•°å€¼ï¼ˆæ•°å­¦å¥‡ç‚¹ï¼‰ã€‚
4. ç”µæœºæ¥æ”¶åˆ°â€œå…¨é€Ÿæ—‹è½¬â€çš„æŒ‡ä»¤ï¼Œé£æ§å‘ç–¯ï¼Œé£æœºå¤±æ§å æ¯ã€‚

### B. åæ ‡ä¾èµ–ï¼ˆè¡¨ç¤ºæ³•ä¾èµ–ï¼‰

æ¬§æ‹‰è§’è¯´ï¼šâ€œå…ˆç»•Xè½´è½¬ï¼Œå†ç»•Yè½´è½¬ï¼Œæœ€åç»•Zè½´è½¬â€ã€‚ä½†è¿™å°±åƒèµ°è·¯ï¼š

- è·¯å¾„Aï¼šå‘å‰èµ°10ç±³ï¼Œç„¶åå‘å³è½¬ã€‚

- è·¯å¾„Bï¼šå…ˆå‘å³è½¬ï¼Œç„¶åå‘å‰èµ°10ç±³ã€‚

  ç»“æœä½ ä»¬åˆ°è¾¾çš„åœ°æ–¹å®Œå…¨ä¸åŒï¼

åœ¨ä¸‰ç»´æ—‹è½¬ä¸­ï¼Œæ—‹è½¬æ˜¯ä¸å…·å¤‡â€œäº¤æ¢å¾‹â€çš„ï¼Œå³ï¼š
$$
R_x \cdot R_y \neq R_y \cdot R_x
$$
å¦‚æœå®šä¹‰è¯¯å·®ä¸ºç®€å•çš„ $(\phi-\phi_d)$ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨å‡è®¾ï¼šä¸‰ä¸ªè½´çš„è½¬åŠ¨æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚ä½†åœ¨ç‰©ç†ä¸Šï¼Œè½¬åŠ¨æ˜¯è€¦åˆçš„ï¼Œä¸€ä¸ªè½´çš„æ”¹å˜ä¼šæ”¹å˜å¦å¤–çš„è½´ï¼Œ[å¯è§†åŒ–](E:\DockerDesktopWSL\GNC_Learning\02_UAV\Note\visual\CouplingOfAxes(GimbalLock).html)ã€‚

- **ä¾‹å­**ï¼šå‡è®¾æœŸæœ›å§¿æ€æ˜¯å¹³é£ï¼Œå½“å‰å§¿æ€æ˜¯æœºå¤´æŠ¬èµ·ä¸”å‘å³å€¾æ–œã€‚
  - å¦‚æœä½ ç”¨ Z-Y-X çš„é¡ºåºæè¿°ï¼Œè®¡ç®—å‡ºçš„â€œè§’åº¦å·®â€æ˜¯ä¸€ç»„æ•°å€¼ã€‚
  - å¦‚æœä½ ç”¨ X-Y-Z çš„é¡ºåºæè¿°ï¼Œè®¡ç®—å‡ºçš„â€œè§’åº¦å·®â€æ˜¯å¦ä¸€ç»„æ•°å€¼ã€‚
  - **å…³é”®ç‚¹**ï¼š**ç‰©ç†ä¸Šçš„è¯¯å·®ï¼ˆé£æœºç¦»ç›®æ ‡å§¿æ€è¿˜å·®å¤šå°‘èƒ½é‡/è§’åº¦ï¼‰åº”è¯¥æ˜¯å”¯ä¸€çš„å®¢è§‚äº‹å®**ï¼Œä¸åº”è¯¥å› ä¸ºå·¥ç¨‹å¸ˆç”²å–œæ¬¢ ZYX é¡ºåºï¼Œå·¥ç¨‹å¸ˆä¹™å–œæ¬¢ XYZ é¡ºåºï¼Œè¯¯å·®çš„å¤§å°å°±å˜äº†ã€‚

------

##  SO(3) æ˜¯ä»€ä¹ˆï¼Ÿ

SO(3) å°±æ˜¯æ‰€æœ‰â€œåˆæ³•æ—‹è½¬çŸ©é˜µâ€çš„é›†åˆï¼Œå…¶å®å°±æ˜¯**æ‰€æœ‰ 3x3 æ—‹è½¬çŸ©é˜µçš„é›†åˆ**ã€‚

- **S**:  Specialï¼ˆç‰¹æ®Šï¼‰ï¼ŒæŒ‡è¡Œåˆ—å¼ä¸º +1ï¼ˆä»£è¡¨æ²¡æœ‰é•œåƒç¿»è½¬ï¼Œä»…ä»…æ˜¯æ—‹è½¬ï¼‰ã€‚
- **O**: Orthogonalï¼ˆæ­£äº¤ï¼‰ï¼ŒæŒ‡çŸ©é˜µçš„é€†ç­‰äºçŸ©é˜µçš„è½¬ç½® $R^T = R^{-1}$ï¼ˆä»£è¡¨é•¿åº¦å’Œè§’åº¦åœ¨æ—‹è½¬ä¸­ä¸å˜ï¼‰ã€‚
- **3**: 3Dç©ºé—´ã€‚

$$
R\in SO(3)\ \Leftrightarrow\ R^TR=I,\ \det(R)=1
$$

â€‹	æ—‹è½¬çŸ©é˜µ $R$â€‹ æ˜¯æè¿°å§¿æ€æœ€çº¯ç²¹çš„æ–¹å¼ï¼Œå®ƒä¸ä¾èµ–äºä½ å…ˆè½¬Xè¿˜æ˜¯å…ˆè½¬Yã€‚å®ƒç›´æ¥æè¿°äº†æœºä½“åæ ‡ç³»ç›¸å¯¹äºå¯¼èˆªåæ ‡ç³»çš„æŠ•å½±å…³ç³»ã€‚æˆ‘ä»¬ä¸ç”¨å‡æ³•ï¼Œæˆ‘ä»¬ç”¨â€œä¹˜æ³•é€†â€ã€‚å¦‚æœ $R$ æ˜¯å½“å‰å§¿æ€ï¼Œ$R_d$ æ˜¯æœŸæœ›å§¿æ€ã€‚çœŸæ­£çš„å‡ ä½•è¯¯å·® $R_e$ æ˜¯ï¼š
$$
R_e = R_d^T R
$$
(æˆ–è€… $R R_d^T$ï¼Œå–å†³äºåæ ‡ç³»å®šä¹‰)ï¼Œè¿™ä»£è¡¨äº†ï¼šâ€œä»å½“å‰å§¿æ€ï¼Œéœ€è¦æ—‹è½¬ä¸€ä¸ªä»€ä¹ˆæ ·çš„ $R_e$ï¼Œæ‰èƒ½é‡åˆåˆ°æœŸæœ›å§¿æ€ï¼Ÿâ€ç„¶åï¼Œæˆ‘ä»¬ä¼šä»è¿™ä¸ª $R_e$ ä¸­æå–å‡ºä¸€ä¸ªæ—‹è½¬è½´å’Œä¸€ä¸ªæ—‹è½¬è§’ã€‚è¿™ä¸ªâ€œæ—‹è½¬è§’â€æ‰æ˜¯çœŸæ­£çš„ã€ç‰©ç†ä¸Šå®¢è§‚çš„è¯¯å·®ã€‚

ä½ å·¥ç¨‹ä¸Šè®°ä½ä¸¤ç‚¹å°±å¤Ÿï¼š

1. **æ—‹è½¬çŸ©é˜µæ˜¯å§¿æ€çš„â€œå…¨å±€æ— å¥‡å¼‚è¡¨ç¤ºâ€**
   ä¸ä¼šåƒæ¬§æ‹‰è§’é‚£æ ·åœ¨æŸäº›è§’åº¦çˆ†æ‰ã€‚
2. **åœ¨ SO(3) ä¸Šå®šä¹‰è¯¯å·®ï¼Œå¤§æœºåŠ¨ä¹Ÿè‡ªç„¶**
   ä½ å¯ä»¥è®©é£è¡Œå™¨åš 180Â°ã€360Â° çš„å¤§å¹…æ—‹è½¬ï¼Œè¯¯å·®å®šä¹‰ä»ç„¶æœ‰æ„ä¹‰ã€‚

> ä¸éœ€è¦ä½ ç°åœ¨å»è¯æ˜ SO(3) æ˜¯æµå½¢ã€æç¾¤ã€æœ‰ä»€ä¹ˆæ‹“æ‰‘æ€§è´¨â€”â€”é‚£æ˜¯æ•°å­¦è¯¾çš„äº‹ã€‚ä½ åªè¦æŠŠå®ƒå½“æˆâ€œæ‰€æœ‰åˆæ³•å§¿æ€çš„é›†åˆâ€ã€‚

------

## hat / veeï¼ˆ$(\hat{})$ /$ (\vee)$ï¼‰ç®—å­

### $hatï¼š(\mathbb{R}^3 \to so(3))$

è§’é€Ÿåº¦ $\omega$ å’Œçº¿é€Ÿåº¦ $v$ çš„å…³ç³»æ˜¯ï¼š
$$
v = \omega \times r
$$
è¿™é‡Œçš„ $\times$ æ˜¯å‘é‡å‰ä¹˜ï¼ˆCross Productï¼‰ã€‚ä½†æ˜¯ï¼Œè®¡ç®—æœºï¼ˆæ¯”å¦‚é£æ§é‡Œçš„ä»£ç ã€Matlabã€C++ï¼‰éå¸¸æ“…é•¿åš**çŸ©é˜µä¹˜æ³•** ($A \cdot b$)ï¼Œè€Œä¸æ“…é•¿ç›´æ¥å¤„ç†å‰ä¹˜ç¬¦å·ã€‚

- çŸ©é˜µä¹˜æ³•æ˜¯çº¿æ€§çš„ï¼Œå¯ä»¥ç›´æ¥å†™æˆ `A * b`ã€‚
- å‰ä¹˜å¦‚æœä¸è½¬åŒ–ï¼Œä½ å°±å¾—å†™æˆ `cross(w, r)`ï¼Œè¿™åœ¨æ¨å¯¼å¤æ‚çš„æ§åˆ¶å¾‹ï¼ˆæ¯”å¦‚æ±‚å¯¼ã€ç¨³å®šæ€§è¯æ˜ï¼‰æ—¶éå¸¸ä¸æ–¹ä¾¿ï¼Œå› ä¸ºä½ æ²¡æ³•æŠŠ $\omega$ æå‡ºæ¥ã€‚

Hat ç®—å­ ($\hat{\cdot}$) çš„å”¯ä¸€ä½¿å‘½ï¼šæŠŠâ€œå‰ä¹˜â€ä¼ªè£…æˆâ€œçŸ©é˜µä¹˜æ³•â€ã€‚
$$
\omega \times r \quad \xrightarrow{\text{Hatç®—å­}} \quad \hat{\omega} \cdot r
$$

#### å®šä¹‰ï¼ˆä½ æ˜¯æ€ä¹ˆæŠŠå‘é‡å˜çŸ©é˜µçš„ï¼‰

è¾“å…¥ä¸€ä¸ª 3ç»´å‘é‡ $\omega = [\omega_x, \ \omega_y, \ \omega_z]^T$ï¼ŒHat ç®—å­æŠŠå®ƒå˜æˆä¸€ä¸ª $3\times3$ çš„çŸ©é˜µã€‚
$$
\hat{\omega} = [\omega]_\times = \begin{bmatrix} 0 & -\omega_z & \omega_y \\ \omega_z & 0 & -\omega_x \\ -\omega_y & \omega_x & 0 \end{bmatrix}
$$

1. **å¯¹è§’çº¿å…¨æ˜¯ 0**ï¼šå› ä¸ºå‘é‡è‡ªå·±å‰ä¹˜è‡ªå·±ç­‰äº0 ($\omega \times \omega = 0$)ã€‚
2. **åå¯¹ç§°**ï¼šçŸ©é˜µ $A$ æ»¡è¶³ $A^T = -A$ã€‚ä½ çœ‹å³ä¸Šè§’çš„ $-\omega_z$ å’Œ å·¦ä¸‹è§’çš„ $\omega_z$ï¼Œäº’ä¸ºç›¸åæ•°ã€‚

### $veeï¼š(so(3)\to\mathbb{R}^3)$

#### å®šä¹‰ï¼ˆæ€ä¹ˆå˜å›æ¥ï¼‰

å®ƒæ˜¯ Hat çš„é€†è¿ç®—ã€‚è¾“å…¥ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼Œè¾“å‡ºå®ƒå¯¹åº”çš„ 3ç»´å‘é‡ã€‚

å¦‚æœç»™å®šçŸ©é˜µ $S$ï¼š
$$
S = \begin{bmatrix} 0 & -c & b \\ c & 0 & -a \\ -b & a & 0 \end{bmatrix}
$$

$$
S^\vee = [a, \ b, \ c]^T
$$

åœ¨æ§åˆ¶ç®—æ³•ä¸­ï¼Œä½ ç»å¸¸ä¼šè®¡ç®—å‡ºä¸€äº›çŸ©é˜µå½¢å¼çš„è¯¯å·®ï¼Œæ¯”å¦‚å§¿æ€è¯¯å·®ã€‚å‡è®¾ä½ çš„æœŸæœ›æ—‹è½¬çŸ©é˜µæ˜¯ $R_d$ï¼Œå½“å‰æ˜¯ $R$ã€‚æˆ‘ä»¬ç®—å‡ºäº†ä¸€ä¸ªè¯¯å·®çŸ©é˜µ $R_e = R_d^T R$ã€‚ä¸ºäº†æŠŠè¿™ä¸ªçŸ©é˜µå˜æˆä¸€ä¸ªèƒ½å¤Ÿé©±åŠ¨ç”µæœºè½¬åŠ¨çš„æ§åˆ¶æŒ‡ä»¤ï¼ˆåŠ›çŸ©å‘é‡ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠçŸ©é˜µâ€œå‹ç¼©â€å›å‘é‡ã€‚è¿™æ—¶å€™å°±ä¼šç”¨åˆ° Vee ç®—å­ï¼š
$$
e_{\text{angle}} = \frac{1}{2} (R_d^T R - R^T R_d)^\vee
$$

> çœ‹ä¸æ‡‚è¿™ä¸ªå…¬å¼æ²¡å…³ç³»ï¼Œä½ åªéœ€è¦çŸ¥é“ï¼Œæœ€åä¸€æ­¥ä¸€å®šè¦ç”¨ $\vee$ æŠŠçŸ©é˜µå˜å›å‘é‡ï¼Œå› ä¸ºç”µæœºåªèƒ½ç†è§£â€œç»•è¿™ä¸ªè½´è½¬â€ï¼Œä¸èƒ½ç†è§£â€œçŸ©é˜µä¹˜æ³•â€ã€‚

### **ä»€ä¹ˆæ˜¯ so(3)ï¼Ÿ**

- $\mathbb{R}^3$ï¼šæˆ‘ä»¬ç†Ÿæ‚‰çš„ä¸‰ç»´å‘é‡ç©ºé—´ï¼ˆé•¿å®½é«˜ï¼‰ã€‚
- $SO(3)$ï¼šä¸‰ç»´æ—‹è½¬çŸ©é˜µç¾¤ï¼‰ã€‚
- $so(3)$ï¼ˆå°å†™ï¼ï¼‰ï¼š**ä¸‰ç»´åå¯¹ç§°çŸ©é˜µçš„é›†åˆ**ã€‚

#### å®ƒä»¬çš„å…³ç³»ï¼ˆHat æ˜ å°„ï¼‰

Hat ç®—å­ ($\hat{\cdot}$) å°±æ˜¯ä¸€ä¸ªæ˜ å°„å‡½æ•°ï¼š
$$
\hat{\cdot} : \mathbb{R}^3 \to so(3)
$$
æ„æ€å°±æ˜¯ï¼šç»™æˆ‘ä¸€ä¸ªå‘é‡ï¼ˆ$\mathbb{R}^3$ï¼‰ï¼Œæˆ‘è¿˜ä½ ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼ˆ$so(3)$ï¼‰ã€‚

**æ•°å­¦å®¶ä¼šå‘Šè¯‰ä½ **ï¼š

> "$so(3)$ æ˜¯æç¾¤ $SO(3)$ åœ¨å•ä½å…ƒå¤„çš„åˆ‡ç©ºé—´ï¼ˆTangent Spaceï¼‰ï¼Œä¹Ÿå°±æ˜¯æä»£æ•°ï¼ˆLie Algebraï¼‰ã€‚Hat ç®—å­æ˜¯æä»£æ•°ä¸å‘é‡ç©ºé—´çš„åŒæ„æ˜ å°„â€¦â€¦"

**GNC å·¥ç¨‹å¸ˆï¼ˆä½ ï¼‰åªéœ€è¦çŸ¥é“**ï¼š

> 1. $\mathbb{R}^3$ é‡Œçš„å‘é‡å¯¹åº”**è§’é€Ÿåº¦** $\omega$ã€‚
> 2. $so(3)$ é‡Œçš„çŸ©é˜µå¯¹åº”**è§’é€Ÿåº¦çš„çŸ©é˜µå½¢å¼** $\hat{\omega}$ã€‚
> 3. **ä¸éœ€è¦è¯æ˜**ä¸ºä»€ä¹ˆåˆ‡ç©ºé—´æ˜¯åå¯¹ç§°çŸ©é˜µã€‚
> 4. **ä¸éœ€è¦è¯æ˜**ææ‹¬å·ï¼ˆLie Bracketï¼‰çš„é—­åŒ…æ€§è´¨ã€‚
> 5. **åªéœ€è¦ä¼šç®—**ï¼šç»™ä½ å‘é‡ä¼šå†™çŸ©é˜µï¼Œç»™ä½ çŸ©é˜µä¼šæå‘é‡ã€‚

------

# æ ¸å¿ƒå…¬å¼ï¼šä»â€œå®šä¹‰ â†’ å®ç°â€

## å§¿æ€è¯¯å·®$(e_R)$

å§¿æ€è¯¯å·®æ˜¯ï¼š
$$
e_R=\frac12\left(R_d^TR - R^TR_d\right)^\vee
$$

- å½“å‰å§¿æ€ï¼š($R$)
- æœŸæœ›å§¿æ€ï¼š($R_d$)

æœ€å®¢è§‚çš„é—®é¢˜æ˜¯ï¼š**ä» ($R_d$) æ—‹åˆ° ($R$) éœ€è¦è½¬å¤šå°‘ï¼Ÿ**è¿™ä¸ªâ€œç›¸å¯¹æ—‹è½¬â€å°±æ˜¯ï¼š

$$
\tilde{R}=R_d^TR
$$
å®ƒçš„å«ä¹‰ï¼šæŠŠå‘é‡å…ˆç”¨ ($R$) è¡¨è¾¾ã€å†ç”¨ ($R_d$) çš„é€†æ‹‰å›å»ï¼Œæœ¬è´¨å°±æ˜¯â€œä¸¤ä¸ªå§¿æ€ä¹‹é—´çš„å·®â€ã€‚è€Œ$\left(R_d^TR - R^TR_d\right)$)ä¸€å®šæ˜¯åå¯¹ç§°çŸ©é˜µ
$$
\tilde{R}=R_d^TR \quad \Rightarrow \quad \tilde{R}^T = R^TR_d\\
\therefore R_d^TR - R^TR_d = \tilde{R}-\tilde{R}^T
$$
è€Œä»»æ„çŸ©é˜µ ($A-A^T$) éƒ½æ˜¯åå¯¹ç§°çŸ©é˜µï¼ˆå› ä¸ºè½¬ç½®åå˜å·ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™é¡¹â€œå¤©ç„¶è½åœ¨ $so(3)$â€é‡Œï¼Œvee æ‰èƒ½ç”¨ã€‚

### ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼

ä»»ä½•å‘é‡ $v$ éƒ½å¯ä»¥åˆ†è§£ä¸ºï¼š**å¹³è¡Œäºè½¬è½´çš„åˆ†é‡**ï¼ˆè½¬åŠ¨æ—¶ä¸åŠ¨çš„ï¼‰ + **å‚ç›´äºè½¬è½´çš„åˆ†é‡**ï¼ˆä¼šè¢«æ—‹è½¬çš„ï¼‰ã€‚ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼å°±æ˜¯æŠŠè¿™ä¸¤éƒ¨åˆ†åˆ†é‡æ‹¼èµ·æ¥å¾—åˆ°çš„ã€‚
$$
v_{new} = R v = \underbrace{I \cdot v}_{\text{åŸæ¥çš„æˆ‘}} + \underbrace{\sin\theta (\hat{u} v)}_{\text{æ¨ªå‘æ‹‰åŠ¨}} + \underbrace{(1-\cos\theta) (\hat{u}^2 v)}_{\text{å‘å¿ƒæ”¶ç¼©}}
$$
ä¹Ÿå³å·²çŸ¥ï¼š

1. ä½ ç°åœ¨çš„æœå‘ï¼ˆå‘é‡ $v$ï¼Œä¹Ÿå°±æ˜¯**æ—§çš„æ–œè¾¹**ï¼‰ã€‚
2. ä½ çŸ¥é“ä½ è¦è½¬å¤šå°‘åº¦ï¼ˆ$\theta$ï¼‰ã€‚
3. ä½ çŸ¥é“ç»•å“ªæ ¹è½´è½¬ï¼ˆ$u$ï¼‰ã€‚

- ä½ å®Œå…¨ä¸çŸ¥é“**æ–°çš„æœå‘**ï¼ˆç›®æ ‡å‘é‡ï¼‰åœ¨ä¸–ç•Œåæ ‡ç³»é‡Œæ˜¯ $(x, y, z)$ å¤šå°‘ã€‚ä½ æ²¡æœ‰å®ƒçš„åæ ‡ï¼

ä¸ªå…¬å¼çœ‹ç€å¤æ‚ï¼Œå…¶å®å°±æ˜¯ä¸‰ä¸ªåŠ›åœ¨æ‹‰æ‰¯ï¼Œå‡å®šåœ¨å•ä½åœ†ä¸­ï¼Œä¸”å‡å®š$v$è´´åœ¨å¹³é¢ä¸Š[å¯è§†åŒ–](E:\DockerDesktopWSL\GNC_Learning\02_UAV\Note\visual\RotationalProjectionDecomposition.html)ï¼š

**1. ç¬¬ä¸€é¡¹ï¼š$I$ ï¼ˆåŸæ¥çš„åŸºç¡€ï¼‰**

- **ä»£è¡¨**ï¼šå‘é‡ $v$ è‡ªå·±ã€‚
- **ä½œç”¨**ï¼šå®ƒåŒ…å«äº†â€œå¹³è¡Œåˆ†é‡ $v_{\parallel}$â€å’Œâ€œåŸå§‹çš„å‚ç›´åˆ†é‡ $v_{\perp}$â€ï¼Œ**åç»­æˆ‘ä»¬éœ€è¦åœ¨ç”¨åˆ°è¿™ä¸ªé«˜åº¦ä¿¡æ¯æ¥è¡¥å…¨æˆ‘ä»¬æ–°çš„ç›®æ ‡å‘é‡ã€‚**
- **é—®é¢˜**ï¼šå¦‚æœæˆ‘ä»¬åªç•™è¿™ä¸€é¡¹ï¼Œé‚£å°±æ²¡è½¬ã€‚æˆ‘ä»¬éœ€è¦ä¿®æ”¹å®ƒã€‚

**2. ç¬¬äºŒé¡¹ï¼š$\sin\theta \cdot \hat{u}$ ï¼ˆæ¨ªå‘æ‹‰åŠ¨ / åˆ‡å‘åŠ›ï¼‰**

- **è¿ç®—**ï¼š$\hat{u} v = u \times v$ã€‚
- **å‡ ä½•æ„ä¹‰**ï¼šå‰ä¹˜äº§ç”Ÿäº†ä¸€ä¸ª**å‚ç›´äº $v$ ä¹Ÿå‚ç›´äº $u$** çš„æ–°å‘é‡ã€‚
- **æ–¹å‘**ï¼šå®ƒæ˜¯æ²¿ç€åœ†å‘¨åˆ‡çº¿æ–¹å‘çš„ã€‚
- **ä½œç”¨**ï¼šå®ƒè´Ÿè´£æŠŠå‘é‡**â€œå¾€æ—è¾¹æ‹½â€**ã€‚
- **ä¸ºä»€ä¹ˆæ˜¯ $\sin$**ï¼š**ç›®æ ‡å‘é‡**çš„ç«¯ç‚¹ï¼ŒæŠ•å½±åˆ° **Yè½´ï¼ˆ9ç‚¹é’Ÿæ–¹å‘ï¼‰** ä¸Šçš„é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ
  - æ ¹æ®ä¸‰è§’å‡½æ•°å®šä¹‰ï¼š**å¯¹è¾¹ = æ–œè¾¹ $\times \sin\theta$**ã€‚
  - æ–œè¾¹æ˜¯ $r$ï¼Œæ‰€ä»¥è¿™ä¸ªé«˜åº¦å°±æ˜¯ $r \cdot \sin\theta$ã€‚

3. **ç¬¬ä¸‰é¡¹ï¼š$(1-\cos\theta) \cdot \hat{u}^2$ ï¼ˆå‘å¿ƒæ”¶ç¼© / å¾„å‘åŠ›ï¼‰**

- **è¿ç®—**ï¼š$\hat{u}^2 v = u \times (u \times v)$ã€‚

- **å‡ ä½•æ„ä¹‰**ï¼šè¿™ä¸ªå‘é‡æŒ‡å‘**åœ†å¿ƒ**ï¼ˆæŒ‡å‘è½¬è½´ï¼‰ï¼Œæ–¹å‘ä¸ $v_{\perp}$ ç›¸åã€‚

- **ä½œç”¨**ï¼šå®ƒè´Ÿè´£æŠŠå‘é‡**â€œå¾€å›ç¼©â€**ã€‚

- **ä¸ºä»€ä¹ˆæ˜¯ $(1-\cos)$**ï¼š

  â€‹	**çœ‹ç›®æ ‡å‘é‡çš„â€œçºµåæ ‡â€ï¼ˆ12ç‚¹æ–¹å‘ï¼‰**ï¼š

  - æŠ•å½±åˆ° X è½´ä¸Šçš„é•¿åº¦åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ

  - æ ¹æ®ä¸‰è§’å‡½æ•°å®šä¹‰ï¼š**é‚»è¾¹ = æ–œè¾¹ $\times \cos\theta$**ã€‚

  - æ‰€ä»¥ï¼Œæ–°å‘é‡åœ¨ 12ç‚¹æ–¹å‘ä¸Š **åªåº”è¯¥ä¿ç•™ $r \cdot \cos\theta$ è¿™ä¹ˆé•¿**ã€‚

    **çœ‹å’±ä»¬æ‰‹é‡Œæœ‰ä»€ä¹ˆ**ï¼š

  - å…¬å¼çš„ç¬¬ä¸€é¡¹ï¼ˆ$I \cdot v$ï¼‰ç»™äº†æˆ‘ä»¬**å®Œæ•´çš„åŸé•¿** $r$ï¼ˆå³ $1 \cdot r$ï¼‰ã€‚

  - **ç°åœ¨çš„é•¿åº¦ ($1 \cdot r$) å¤ªé•¿äº†ï¼** æˆ‘ä»¬æƒ³è¦çš„æ˜¯ $\cos\theta \cdot r$ã€‚

    **æ€ä¹ˆä¿®å‰ªï¼Ÿ**

  - æˆ‘ä»¬éœ€è¦åˆ‡æ‰ä¸€æ®µã€‚

  - **åˆ‡æ‰çš„é•¿åº¦ = ç°åœ¨çš„æ€»é•¿ - æƒ³è¦çš„é•¿åº¦**

  - åˆ‡æ‰çš„é•¿åº¦ = $r - r \cdot \cos\theta = r \cdot (1 - \cos\theta)$ã€‚

    **åˆ‡æ‰ = å¾€å›æ‹‰**ï¼š

  - åŸæ¥çš„å‘é‡æŒ‡å‘ 12ç‚¹ã€‚

  - è¦è®©å®ƒå˜çŸ­ï¼Œå°±å¾—ç»™å®ƒåŠ ä¸€ä¸ª **6ç‚¹é’Ÿæ–¹å‘ï¼ˆåæ–¹å‘ï¼‰** çš„åŠ›ã€‚

  - è¿™ä¸ª 6ç‚¹é’Ÿæ–¹å‘å°±æ˜¯ $\hat{u}^2 v$ã€‚

### ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ $R_d^T R$ï¼Ÿï¼ˆå› ä¸ºæœ‰æ‚è´¨ï¼‰

$R_{err} = R_d^T R$ æœ¬èº«å·²ç»åŒ…å«äº†æ‰€æœ‰çš„è¯¯å·®ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªçŸ©é˜µ $R_{err}$ æ˜¯ä¸€ä¸ªæ··åˆä½“ã€‚æ ¹æ®ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ï¼š
$$
R_{err} = \underbrace{I + (1-\cos\theta)\hat{a}^2}_{\text{å¯¹ç§°éƒ¨åˆ† (Symmetric)}} + \underbrace{\sin\theta \cdot \hat{a}}_{\text{åå¯¹ç§°éƒ¨åˆ† (Skew)}}
$$

- **å¯¹ç§°éƒ¨åˆ†**ï¼ˆ$I$ å’Œ $\hat{a}^2$ï¼‰ï¼šåŒ…å«çš„æ˜¯ $\cos\theta$ çš„ä¿¡æ¯ã€‚å¯¹äºæ§åˆ¶æ–¹å‘æ¥è¯´ï¼Œè¿™éƒ¨åˆ†æ˜¯â€œæ‚è´¨â€ã€‚
- **åå¯¹ç§°éƒ¨åˆ†**ï¼ˆ$\sin\theta \cdot \hat{a}$ï¼‰ï¼šåŒ…å«çš„æ˜¯æ—‹è½¬è½´ $a$ å’Œè½¬è§’ $\theta$ çš„æ­£å¼¦å€¼ã€‚è¿™æ‰æ˜¯æˆ‘ä»¬æƒ³è¦ç”¨æ¥åšåé¦ˆæ§åˆ¶çš„â€œé»„é‡‘â€ã€‚

**è¯·æƒ³è±¡ä¸¤ä¸ªåœºæ™¯ï¼š**

- **åœºæ™¯ A**ï¼šé£æœºå‘å·¦åäº† 10 åº¦ ($\theta = +10^\circ$)ã€‚
- **åœºæ™¯ B**ï¼šé£æœºå‘å³åäº† 10 åº¦ ($\theta = -10^\circ$)ã€‚

æ§åˆ¶å™¨çš„ä»»åŠ¡ï¼šåœ¨ A åœºæ™¯ï¼Œæˆ‘è¦å‘å³æ‰“èˆµï¼›åœ¨ B åœºæ™¯ï¼Œæˆ‘è¦å‘å·¦æ‰“èˆµã€‚åŠ›çŸ©å¿…é¡»æ˜¯åå‘çš„ï¼

- **çœ‹åå¯¹ç§°éƒ¨åˆ† ($\sin$)**ï¼š
  - $\sin(10^\circ) \approx 0.17$
  - $\sin(-10^\circ) \approx -0.17$
  - **æˆåŠŸï¼** ä¸€ä¸ªæ­£ä¸€ä¸ªè´Ÿï¼Œæ§åˆ¶å™¨ä¸€çœ¼å°±çŸ¥é“æ–¹å‘åäº†ã€‚
- **çœ‹å¯¹ç§°éƒ¨åˆ† ($\cos$)**ï¼š
  - $\cos(10^\circ) \approx 0.98$
  - $\cos(-10^\circ) \approx 0.98$
  - **å¤±è´¥ï¼** $\cos$ å‡½æ•°æ˜¯**å¶å‡½æ•°**ï¼Œå®ƒâ€œåƒæ‰â€äº†è´Ÿå·ã€‚

ç»“è®ºï¼šå¦‚æœä½ ç”¨å¯¹ç§°éƒ¨åˆ†åšåé¦ˆï¼Œæ§åˆ¶å™¨ä¼šä¸€è„¸æ‡µé€¼ï¼šâ€œæˆ‘çŸ¥é“ç°åœ¨åäº† 10 åº¦ï¼Œä½†æˆ‘ä¸çŸ¥é“æ˜¯å¾€å·¦è¿˜æ˜¯å¾€å³åã€‚â€å¯¹äºä¸€ä¸ªè¦è¾“å‡ºçŸ¢é‡åŠ›çŸ©ï¼ˆVector Torqueï¼‰çš„æ§åˆ¶å™¨æ¥è¯´ï¼Œä¸¢å¤±äº†ç¬¦å·ï¼ˆæ–¹å‘ï¼‰çš„ä¿¡æ¯ï¼Œå°±æ˜¯æ¯«æ— ç”¨å¤„çš„â€œæ‚è´¨â€ã€‚

------

#### æ•°å­¦æœ¬è´¨ï¼šå®ƒä¸å«â€œè½¬è½´â€çš„çº¿æ€§ä¿¡æ¯

æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ $e_R$ æ˜¯ä¸€ä¸ªå‘é‡ $a = [a_x, a_y, a_z]^T$ã€‚åœ¨åå¯¹ç§°çŸ©é˜µ $\hat{a}$ é‡Œï¼Œè¿™ä¸‰ä¸ªæ•°æ˜¯ç‹¬ç«‹åœ°æ‘†åœ¨éå¯¹è§’çº¿ä½ç½®çš„ï¼š
$$
\text{Skew} = \begin{bmatrix} 0 & -a_z & a_y \\ a_z & 0 & -a_x \\ -a_y & a_x & 0 \end{bmatrix}
$$
æˆ‘ä»¬ç”¨ $r_{32} - r_{23}$ ä¸€å‡ï¼Œé©¬ä¸Šå°±èƒ½æŠŠ $a_x$ æå–å‡ºæ¥ã€‚ä½†æ˜¯ï¼çœ‹çœ‹å¯¹ç§°éƒ¨åˆ† $\hat{a}^2$ é•¿ä»€ä¹ˆæ ·ï¼š
$$
\hat{a}^2 = \begin{bmatrix} -(a_y^2+a_z^2) & a_x a_y & a_x a_z \\ a_x a_y & -(a_x^2+a_z^2) & a_y a_z \\ a_x a_z & a_y a_z & -(a_x^2+a_y^2) \end{bmatrix}
$$

1. **å®ƒæ˜¯å¯¹ç§°çš„**ï¼š$r_{12} = r_{21} = a_x a_y$ã€‚
2. **å®ƒæ˜¯äºŒæ¬¡é¡¹**ï¼šé‡Œé¢å…¨æ˜¯ $a_x^2$ æˆ–è€… $a_x a_y$ã€‚

è¿™æ„å‘³ç€ï¼š

- **æå–ä¸å‡ºæ¥**ï¼šå¦‚æœä½ æŠŠå®ƒä»¬ç›¸å‡ $r_{12} - r_{21}$ï¼Œç»“æœæ˜¯ **0**ã€‚è¿™éƒ¨åˆ†ä¿¡æ¯åœ¨åå¯¹ç§°æå–è¿‡ç¨‹ä¸­ç›´æ¥**è‡ªçˆ†**äº†ã€‚
- **éçº¿æ€§**ï¼šå³ä½¿ä½ æƒ³ç”¨å®ƒï¼Œå®ƒä¹Ÿæ˜¯ $a_x \cdot a_y$ è¿™ç§ä¹˜ç§¯å½¢å¼ï¼Œè¿™å¯¹äºæˆ‘ä»¬æƒ³è¦æ„é€ çš„çº¿æ€§åé¦ˆï¼ˆPIDï¼‰æ¥è¯´å¤ªå¤æ‚äº†ï¼Œå¾ˆéš¾ç›´æ¥ç”¨ã€‚

------

#### ç‰©ç†ç›´è§‰ï¼šèƒ½é‡ vs åŠ›

æˆ‘ä»¬å¯ä»¥ç”¨**å¼¹ç°§**æ¥æ¯”å–»ã€‚

- å¯¹ç§°éƒ¨åˆ†ï¼ˆ$\cos\theta$ / æ ‡é‡ï¼‰ï¼šå°±åƒå¼¹ç°§çš„å¼¹æ€§åŠ¿èƒ½ ($E = \frac{1}{2}kx^2$)ã€‚å¦‚æœä½ åªçŸ¥é“å¼¹ç°§ç°åœ¨æœ‰ 100ç„¦è€³ çš„èƒ½é‡ï¼Œä½ çŸ¥é“è¯¥å¾€å“ªè¾¹æ¨å—ï¼Ÿä¸çŸ¥é“ã€‚å› ä¸ºå‹ç¼© 10cm å’Œæ‹‰é•¿ 10cmï¼Œèƒ½é‡éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™å¯¹äºâ€œèƒ½é‡åˆ†æâ€ï¼ˆLyapunovå‡½æ•°ï¼‰æœ‰ç”¨ï¼Œä½†å¯¹äºâ€œæŒ‡æ–¹å‘â€æ²¡ç”¨ã€‚
- åå¯¹ç§°éƒ¨åˆ†ï¼ˆ$\sin\theta$ / å‘é‡ï¼‰ï¼šå°±åƒå¼¹ç°§çš„å›å¤åŠ› ($F = -kx$)ã€‚å®ƒæ˜¯æ­£å°±æ˜¯æ­£ï¼Œæ˜¯è´Ÿå°±æ˜¯è´Ÿã€‚è¿™æ‰æ˜¯é©±åŠ¨ç”µæœºè½¬åŠ¨æ‰€éœ€è¦çš„â€œæŒ‡ä»¤â€ã€‚

------

### å‡ ä½•è¯¯å·®å‘é‡($e_R$)

$$
e_R=\frac12(\tilde{R}-\tilde{R}^T)^\vee
$$

å°†ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ä»£å…¥å¯å¾—åˆ°ä¸‹é¢çš„å½¢å¼ï¼Œå®ƒå…¶å®å°±æ˜¯ï¼š**å–ç›¸å¯¹æ—‹è½¬çŸ©é˜µçš„â€œåå¯¹ç§°éƒ¨åˆ†â€ï¼Œå¹¶æŠŠå®ƒå˜æˆä¸€ä¸ªå‘é‡ã€‚**æ›´è¿›ä¸€æ­¥ï¼šå¦‚æœç›¸å¯¹æ—‹è½¬ ($\tilde{R}$) è¡¨ç¤ºâ€œç»•å•ä½è½´ ($a$) æ—‹è½¬è§’ ($\theta$)â€ï¼ˆè¿™å°±æ˜¯è½´è§’è¡¨ç¤ºï¼‰ï¼Œé‚£ä¹ˆæœ‰ï¼š
$$
\frac12(\tilde{R}-\tilde{R}^T) = \sin\theta\ \hat{a} \\
\because veeç®—å­ \\
\therefore e_R = \sin\theta\ a
$$
**è¿™å¥è¯çš„ç›´è§‰ï¼š**

- ($e_R$) çš„æ–¹å‘ï¼šå°±æ˜¯â€œè¯¥ç»•å“ªä¸ªè½´çº æ­£â€ï¼Œ**æ–¹å‘ ($a$)**ï¼šå‘Šè¯‰æˆ‘ï¼Œè¦æƒ³æŠŠç°åœ¨çš„å§¿æ€çº æ­£åˆ°æœŸæœ›å§¿æ€ï¼Œ**è¿™æ ¹â€œè½´â€åœ¨å“ªé‡Œï¼Ÿ**
- ($e_R$) çš„å¤§å°ï¼šæ¥è¿‘ ($\sin\theta$)ï¼Œå°è§’åº¦æ—¶çº¦ç­‰äº ($\theta$)ï¼Œ**é•¿åº¦ ($\sin{\theta}$)**ï¼šå‘Šè¯‰æˆ‘ï¼Œ**è¿™æ ¹è½´è¦è½¬å¤šå¤§åŠ›åº¦ï¼ˆè§’åº¦ï¼‰ï¼Ÿ**

> è¿™ä¸€æ¡ç­‰å¼çš„ä¸¥æ ¼æ¨å¯¼ä¼šç”¨åˆ° Rodrigues å…¬å¼ / æŒ‡æ•°æ˜ å°„ï¼ˆæ•°å­¦å‘³æ¯”è¾ƒæµ“ï¼‰ã€‚ä½ ä½œä¸º GNC å·¥ç¨‹å¸ˆï¼š**çŸ¥é“ç»“è®º + ä¼šç”¨å®ƒè§£é‡Šè¡Œä¸º**å°±å¤Ÿäº†ï¼›ä¸ç”¨ç¡¬æ¨æˆæ•°å­¦è¯æ˜ã€‚

------

####  å°è§’åº¦æ—¶ ($e_R \approx \delta$)

è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®©ä½ æ”¾å¿ƒï¼š**ç”¨è¿™ä¸ªå¤æ‚çš„å‡ ä½•è¯¯å·®ï¼Œåœ¨é£æœºå¹³ç¨³é£è¡Œæ—¶ï¼Œå’Œç”¨ç®€å•çš„æ¬§æ‹‰è§’å‡æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚**è¿™å¥è¯çš„æ½œå°è¯æ˜¯ï¼š**ç‰›åˆ€æ€é¸¡ï¼Œå’Œèœåˆ€æ€é¸¡ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚**$\tilde{R} = R_d^T R$ æ˜¯â€œè¯¯å·®çŸ©é˜µâ€ã€‚å½“é£æœºå§¿æ€ $R$ å’ŒæœŸæœ› $R_d$ å¾ˆæ¥è¿‘æ—¶ï¼Œå®ƒä»¬ä¹‹é—´çš„å·®å¼‚å°±æ˜¯ä¸€ä¸ªå¾®å°çš„æ—‹è½¬ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªå¾®å°æ—‹è½¬é‡è®°ä¸ºå‘é‡ $\delta$ã€‚æ­¤æ—¶è¯¯å·®çŸ©é˜µè¿‘ä¼¼ä¸ºï¼š
$$
\tilde{R} \approx I + \hat{\delta}
$$
æˆ‘ä»¬å®šä¹‰è¯¯å·®çŸ©é˜µ $\tilde{R} = R_d^T R$ã€‚ä¸ç®¡è¯¯å·®æœ‰å¤šå¤§æˆ–å¤šå°ï¼Œ$\tilde{R}$ æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µã€‚æ ¹æ®æ¬§æ‹‰æ—‹è½¬å®šç†ï¼Œå®ƒä¸€å®šå¯ä»¥è¡¨ç¤ºä¸ºï¼šâ€œç»•ç€æŸä¸ªè½´ $u$ï¼Œè½¬äº†ä¸€ä¸ªè§’åº¦ $\alpha$â€ã€‚

æŠŠè¿™ä¸ªç‰©ç†äº‹å®é€šè¿‡ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼å†™æˆé€šç”¨çš„æ•°å­¦å…¬å¼ï¼ˆRodrigues Formulaï¼‰ï¼š
$$
\tilde{R} = I + (\sin\alpha)\hat{u} + (1-\cos\alpha)\hat{u}^2
$$
å½“æˆ‘ä»¬åœ¨è®¨è®ºâ€œå¾®å°æ—‹è½¬é‡â€æ—¶ï¼Œæ„å‘³ç€è¯¯å·®è§’åº¦ $\alpha$ éå¸¸éå¸¸å°ï¼ˆæ¯”å¦‚ 0.01 å¼§åº¦ï¼Œçº¦ 0.5åº¦ï¼‰ã€‚

æ­¤æ—¶æ•°å­¦ç•Œæœ‰ä¸¤ä¸ªè‘—åçš„è¿‘ä¼¼ï¼š
$$
\sin\alpha \approx \alpha\\
\cos\alpha \approx 1 \implies (1-\cos\alpha) \approx 0
$$
æŠŠè¿™ä¸¤ä¸ªè¿‘ä¼¼ä»£å…¥ä¸Šé¢çš„å…¬å¼ï¼š
$$
\begin{aligned} \tilde{R} &\approx I + (\alpha)\hat{u} + (0)\hat{u}^2 \\ &\approx I + \alpha \cdot \hat{u} \end{aligned}
$$
æ³¨æ„çœ‹ $\alpha \cdot \hat{u}$ã€‚

- $\alpha$ æ˜¯æ ‡é‡ï¼ˆè½¬è§’å¤§å°ï¼‰ã€‚

- $\hat{u}$ æ˜¯åå¯¹ç§°çŸ©é˜µï¼ˆè½¬è½´æ–¹å‘ï¼‰ã€‚

  æ ¹æ® hat ç®—å­çš„çº¿æ€§æ€§è´¨ï¼š$\alpha \hat{u} = (\alpha u)^\wedge$ã€‚æˆ‘ä»¬å°†è¿™ä¸ª â€œè½¬è§’ $\times$ è½¬è½´â€ çš„ç»„åˆå®šä¹‰ä¸ºå‘é‡ $\delta$ï¼š

$$
\delta = \alpha \cdot u
$$

æ‰€ä»¥ï¼Œ$\tilde{R} \approx I + \hat{\delta}$ å°±æ˜¯è¿™ä¹ˆæ¥çš„ã€‚

ç‰©ç†å«ä¹‰ï¼š$\delta$â€‹ è¿™ä¸ªå‘é‡ï¼Œå®ƒçš„é•¿åº¦ä»£è¡¨è¯¯å·®è§’åº¦çš„å¤§å°ï¼Œå®ƒçš„æ–¹å‘ä»£è¡¨è¯¯å·®æ—‹è½¬çš„è½´ã€‚

##### $\tilde{R} \approx I + \hat{\delta}$ä¸­$I$çš„ä½œç”¨

ä½ çš„ç›´è§‰å¯èƒ½è§‰å¾—ï¼šâ€œæˆ‘è¦æ—‹è½¬ä¸€ä¸ªè§’åº¦ï¼Œç›´æ¥æŠŠè¿™ä¸ªè§’åº¦åŠ ä¸Šå»ä¸å°±è¡Œäº†å—ï¼Ÿä¸ºä»€ä¹ˆè¦åŠ åœ¨ä¸€ä¸ª $I$ï¼ˆå•ä½çŸ©é˜µï¼‰ä¸Šé¢ï¼Ÿâ€ç®€å•æ¥è¯´ï¼Œ$I$ çš„ä½œç”¨å°±æ˜¯ï¼š**ä¿æœ¬**ã€‚

###### ç‰©ç†ç›´è§‰ï¼šå®ƒæ˜¯â€œåŸæ¥çš„æˆ‘â€

æƒ³è±¡ä½ åœ¨æ¨å¯¼ä½ç½®å˜åŒ–ã€‚

å¦‚æœä½ è¯´ï¼šâ€œæˆ‘å‘å‰èµ°äº† 0.1 ç±³â€ã€‚

- ä½ çš„æ–°ä½ç½® = **æ—§ä½ç½®** + 0.1ç±³ã€‚
- å¦‚æœä½ ä¸åŠ â€œæ—§ä½ç½®â€ï¼Œä½ çš„æ–°ä½ç½®å°±å˜æˆäº† 0.1ç±³ï¼ˆè¿™æ„å‘³ç€ä½ ç¬ç§»åˆ°äº†èµ·ç‚¹é™„è¿‘ï¼Œè€Œä¸æ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¾€å‰èµ°ï¼‰ã€‚

åœ¨æ—‹è½¬çŸ©é˜µé‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼š
$$
R \approx I + \hat{\delta}
$$

- **$\hat{\delta}$ï¼ˆé‚£å †è§’åº¦ï¼‰**ï¼šä»£è¡¨**â€œå˜åŒ–é‡â€**ï¼ˆæˆ‘åäº†å¤šå°‘ï¼‰ã€‚
- **$I$ï¼ˆå•ä½é˜µï¼‰**ï¼šä»£è¡¨**â€œåŸºç¡€é‡â€**ï¼ˆæˆ‘åŸæ¥çš„æ ·å­ï¼‰ã€‚

å¦‚æœä½ æŠŠ $I$ æ‹¿æ‰ï¼Œå…¬å¼å˜æˆ $R \approx \hat{\delta}$ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€æ•´ä¸ªé£æœºè¢«å‹ç¼©æˆäº†ä¸€ä¸ªæ‰å¹³çš„ç‰‡ï¼ˆå› ä¸º $\hat{\delta}$ ä¸æ»¡ç§©ï¼‰ï¼Œè€Œä¸”ç¬ç§»åˆ°äº†åŸç‚¹é™„è¿‘ã€‚è¿™åœ¨ç‰©ç†ä¸Šå«â€œåç¼©â€ã€‚æ‰€ä»¥ï¼Œ$I$ çš„ä½œç”¨æ˜¯å‘Šè¯‰æ•°å­¦å…¬å¼ï¼š**â€œåœ¨ä¸åšä»»ä½•æ”¹å˜çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ç‚¹ç‚¹å¾®å°çš„æ—‹è½¬ã€‚â€**

------

###### å‡ ä½•ç›´è§‰ï¼šå‘é‡çš„åˆæˆ

è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªçŸ©é˜µä½œç”¨åœ¨ä¸€ä¸ªå…·ä½“çš„å‘é‡ $v$ ä¸Šæ—¶å‘ç”Ÿäº†ä»€ä¹ˆã€‚å‡è®¾ $v$ æ˜¯é£æœºé¼»å­çš„æŒ‡å‘å‘é‡ã€‚æ–°å‘é‡ $v_{new} = R \cdot v$ã€‚

æŠŠè¿‘ä¼¼å…¬å¼ä»£è¿›å»ï¼š
$$
v_{new} \approx (I + \hat{\delta}) \cdot v \\
v_{new} \approx \underbrace{I \cdot v}_{\text{éƒ¨åˆ†A}} + \underbrace{\hat{\delta} \cdot v}_{\text{éƒ¨åˆ†B}}
$$

- **éƒ¨åˆ† A ($I \cdot v = v$)**ï¼š**è¿™æ˜¯åŸæ¥çš„å‘é‡**ã€‚å®ƒç¡®ä¿äº†å¦‚æœä½ æ—‹è½¬è§’åº¦ä¸º 0ï¼Œå‘é‡è¿˜æ˜¯å®ƒè‡ªå·±ï¼Œä¸ä¼šæ¶ˆå¤±ã€‚
- **éƒ¨åˆ† B ($\hat{\delta} \cdot v = \delta \times v$)**ï¼š**è¿™æ˜¯å‚ç›´äºåŸå‘é‡çš„ä¸€ä¸ªå¾®å°ä½ç§»**ã€‚

------

######  æ•°å­¦æœ¬è´¨ï¼šæ³°å‹’å±•å¼€çš„â€œ1â€

ä½ åœ¨é«˜æ•°é‡Œå­¦è¿‡ï¼Œå¯¹äºæ•°å­— $e^x$ï¼Œå½“ $x$ å¾ˆå°æ—¶ï¼š
$$
e^x \approx 1 + x
$$
æ—‹è½¬çŸ©é˜µ $R$ æœ¬è´¨ä¸Šæ˜¯åå¯¹ç§°çŸ©é˜µçš„æŒ‡æ•°æ˜ å°„ï¼ˆè¿™æ˜¯æç¾¤çŸ¥è¯†ï¼‰ï¼š
$$
R = e^{\hat{\delta}}
$$
å¯¹ä»–åšæ³°å‹’å±•å¼€ï¼š
$$
R = I + \hat{\delta} + \frac{1}{2}\hat{\delta}^2 + \dots
$$

- é‚£ä¸ªæ•°å­— **1**ï¼Œå˜æˆäº†çŸ©é˜µé‡Œçš„ **$I$**ã€‚
- é‚£ä¸ªå˜é‡ **$x$**ï¼Œå˜æˆäº†çŸ©é˜µé‡Œçš„ **$\hat{\delta}$**ã€‚

##### ç‰©ç†å«ä¹‰

è¿™æ„å‘³ç€ï¼Œå½“è¯¯å·®å¾ˆå°æ—¶ï¼šå‡ ä½•è¯¯å·®å‘é‡ $e_R$ çš„é•¿åº¦å’Œæ–¹å‘ï¼Œç›´æ¥å°±ç­‰äºé‚£ä¸ªå¾®å°çš„æ—‹è½¬è§’åº¦å‘é‡ $\delta$ã€‚

> **ç»“è®º**ï¼šè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡ ä½•æ§åˆ¶åœ¨æ‚¬åœï¼ˆå°è¯¯å·®ï¼‰æ—¶è¡¨ç°å¾—åƒ PID æ§åˆ¶ä¸€æ ·ä¸æ»‘ï¼Œè€Œåœ¨å¤§æœºåŠ¨ï¼ˆå¤§è¯¯å·®ï¼‰æ—¶åˆä¸ä¼šåƒæ¬§æ‹‰è§’é‚£æ ·å‘ç–¯ã€‚å®ƒæ˜¯å‘ä¸‹å…¼å®¹çš„ã€‚

**å·¥ç¨‹æ„ä¹‰ï¼š**
âœ… å°è¯¯å·®æ—¶å®ƒå°±æ˜¯ä½ ç†Ÿæ‚‰çš„â€œå°è§’åº¦è¯¯å·®å‘é‡â€ï¼ˆçº¿æ€§ä¸–ç•Œå¥½ç”¨ï¼‰
âœ… å¤§è¯¯å·®æ—¶å®ƒä»ç„¶ä¸é æ¬§æ‹‰è§’ï¼Œæ‰€ä»¥ä¸ä¼šçªç„¶å¥‡å¼‚

------

#### â€œå·¥ç¨‹å°å‘â€

$$
e_R = \sin\theta \cdot a
$$

æ§åˆ¶å™¨çš„åŠ›çŸ©é€šå¸¸æ­£æ¯”äºè¯¯å·®ï¼š$u \propto -k_p \cdot e_R$ã€‚

æƒ³è±¡ä¸€ä¸ªåœ†ç›˜ï¼ˆæ—¶é’Ÿï¼‰ï¼š

- **ç›®æ ‡**ï¼š12ç‚¹æ–¹å‘ ($\theta=0^\circ$)ã€‚$\sin(0)=0$ï¼Œè¯¯å·®ä¸º0ï¼Œ**æ­£ç¡®**ã€‚
- **ç°çŠ¶**ï¼š3ç‚¹æ–¹å‘ ($\theta=90^\circ$)ã€‚$\sin(90)=1$ï¼Œè¯¯å·®æœ€å¤§ï¼Œå…¨åŠ›çº æ­£ï¼Œ**æ­£ç¡®**ã€‚
- **ç°çŠ¶**ï¼š6ç‚¹æ–¹å‘ ($\theta=180^\circ$)ã€‚$\sin(180)=0$ï¼Œè¯¯å·®ä¸º0ï¼Œ**å‡ºå¤§é—®é¢˜äº†ï¼**

æ˜æ˜é£æœºå®Œå…¨å€’è¿‡æ¥äº†ï¼ˆè¯¯å·®æœ€å¤§ï¼‰ï¼Œä½†æ§åˆ¶å™¨ç®—å‡ºæ¥çš„è¯¯å·® $e_R$ å´æ˜¯ 0ï¼æ­¤æ—¶ç”µæœºæ²¡æœ‰ä»»ä½•åŠ¨ä½œï¼Œé£æœºå°±å¤´æœä¸‹æ‰ä¸‹å»äº†ã€‚

åœ¨ $180^\circ$ æ—¶ï¼Œé¡ºæ—¶é’ˆè½¬ $180$ å’Œé€†æ—¶é’ˆè½¬ $180$ éƒ½èƒ½åˆ°è¾¾ç›®æ ‡ã€‚

å°±åƒä½ åœ¨åœ°çƒåŒ—æï¼Œè¦å»å—æï¼Œæ‰€æœ‰æ–¹å‘éƒ½æ˜¯â€œå—æ–¹â€ã€‚ç‰©ç†ä¸Šè¿™å°±å«æ­§ä¹‰ç‚¹ã€‚

è¿™å°±å¯¼è‡´æ•°å­¦ä¸Šæ— æ³•ç»™å‡ºä¸€ä¸ªå”¯ä¸€çš„â€œçº æ­£æ–¹å‘â€å‘é‡ $a$ã€‚

##### å·¥ç¨‹å¸ˆæ€ä¹ˆå¤„ç†ï¼Ÿ

è™½ç„¶æ•°å­¦ä¸Šè¿™å«â€œæ‹“æ‰‘é˜»å¡â€ï¼Œä½†å·¥ç¨‹ä¸Šæˆ‘ä»¬æœ‰åœŸåŠæ³•ï¼š

- æ–¹æ³• Aï¼ˆè½¨è¿¹è§„åˆ’ - æœ€å¸¸ç”¨ï¼‰ï¼šæ ¹æœ¬å°±ä¸è®©æœŸæœ›å§¿æ€ $R_d$ å’Œå½“å‰å§¿æ€ $R$ å·®è¿™ä¹ˆè¿œã€‚æˆ‘ä»¬ä¼šç”Ÿæˆä¸€ä¸ªä¸­é—´è¿‡æ¸¡è½¨è¿¹ï¼Œè®©é£æœºä¸€ç‚¹ç‚¹è½¬è¿‡å»ï¼Œè€Œä¸æ˜¯ä¸€æ­¥åˆ°ä½æŒ‡åˆ°èƒŒåã€‚
- æ–¹æ³• Bï¼ˆå®‰å…¨é€»è¾‘ï¼‰ï¼šåœ¨ä»£ç é‡Œå†™ä¸ª ifã€‚è®¡ç®— Trace($\tilde{R}$)ï¼ˆè¿¹ï¼‰ã€‚å¦‚æœå‘ç°è¯¯å·®è§’æ¥è¿‘ $180^\circ$ï¼Œå°±å¼ºè¡Œç»™ä¸€ä¸ªæ‰°åŠ¨æ‰­çŸ©ï¼ŒæŠŠå®ƒæ¨ç¦»è¿™ä¸ªæ­»ç‚¹ï¼Œæˆ–è€…åˆ‡æ¢åˆ°å››å…ƒæ•°çš„æ§åˆ¶é€»è¾‘ã€‚
- æ–¹æ³• Cï¼ˆå››å…ƒæ•°ï¼‰ï¼šå››å…ƒæ•°è¯¯å·®å®šä¹‰é‡Œé€šå¸¸æ²¡æœ‰ $\sin\theta$ï¼Œå®ƒç›´åˆ° $360^\circ$ æ‰æ˜¯é—­ç¯çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šé£æ§åº•å±‚ç”¨å››å…ƒæ•°çš„åŸå› ä¹‹ä¸€ã€‚

------

## è§’é€Ÿåº¦è¯¯å·® $(e_\omega)$

 Lee ç­‰å‡ ä½•æ§åˆ¶å¸¸ç”¨å½¢å¼ï¼š
$$
e_\omega = \omega - R^TR_d\ \omega_d
$$
å¾ˆå¤šå°ç™½ä¼šé—®ï¼šâ€œè§’é€Ÿåº¦ä¸å°±æ˜¯ç›´æ¥å‡å—ï¼Ÿ$\omega - \omega_d$ ä¸è¡Œå—ï¼Ÿâ€ç»å¯¹ä¸è¡Œï¼ å› ä¸ºå®ƒä»¬ä½åœ¨ä¸åŒçš„â€œå¹³è¡Œå®‡å®™â€ï¼ˆåæ ‡ç³»ï¼‰é‡Œã€‚

- **$\omega$ï¼ˆå½“å‰è§’é€Ÿåº¦ï¼‰**ï¼š
  - **æ¥æº**ï¼šé™€èºä»ªï¼ˆIMUï¼‰æµ‹é‡å‡ºæ¥çš„ã€‚
  - **åæ ‡ç³»**ï¼š**æœºä½“åæ ‡ç³» (Body Frame)**ã€‚
  - **ç›´è§‰**ï¼šä¼ æ„Ÿå™¨æ˜¯ç»‘åœ¨é£æœºèº«ä¸Šçš„ï¼Œå®ƒåªèƒ½æ„Ÿè§‰åˆ°â€œé£æœºè‡ªå·±ç»•ç€è‡ªå·±çš„å¤´é¡¶/ç¿…è†€è½¬å¾—æœ‰å¤šå¿«â€ã€‚å®ƒæ ¹æœ¬ä¸çŸ¥é“åœ°çƒåœ¨å“ªé‡Œã€‚
- **$\omega_d$ï¼ˆæœŸæœ›è§’é€Ÿåº¦ï¼‰**ï¼š
  - **æ¥æº**ï¼šè½¨è¿¹è§„åˆ’ç®—æ³•ç»™å‡ºçš„ï¼ˆæ¯”å¦‚â€œæˆ‘è¦ä½ æ¯ç§’è½¬30åº¦â€ï¼‰ã€‚
  - **åæ ‡ç³»**ï¼šé€šå¸¸æ˜¯åœ¨**æœŸæœ›å§¿æ€çš„åæ ‡ç³» (Desired Frame)** å®šä¹‰çš„ã€‚
  - **ç›´è§‰**ï¼šè§„åˆ’å±‚è¯´â€œç›¸å¯¹äºæœŸæœ›çš„æœºå¤´æ–¹å‘(è¿™é‡Œå¹¶æ²¡æœ‰ä½“ç°æœŸæœ›(å¹½çµé£æœº)å§¿æ€)ï¼Œä½ è¦è¿™æ ·è½¬â€ã€‚

æ—¢ç„¶ $\omega$ åœ¨â€œå½“å‰æœºä½“â€é‡Œï¼Œ$\omega_d$ åœ¨â€œæœŸæœ›æœºä½“â€é‡Œï¼Œæˆ‘ä»¬éœ€è¦æŠŠ $\omega_d$ **æ¬è¿**åˆ°å½“å‰æœºä½“åæ ‡ç³»ä¸‹ï¼Œæ‰èƒ½å’Œ $\omega$ åšå‡æ³•ã€‚

1. **ç¬¬ä¸€æ­¥**ï¼šä» **æœŸæœ›ç³»** $\to$ **ä¸–ç•Œç³»**ã€‚
   - ä½¿ç”¨çŸ©é˜µ **$R_d$**ã€‚
   - è¿ç®—ï¼š$R_d \cdot \omega_d$ ï¼ˆç°åœ¨ $\omega_d$ å˜æˆäº†ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å‘é‡ï¼‰ã€‚
2. **ç¬¬äºŒæ­¥**ï¼šä» **ä¸–ç•Œç³»** $\to$ **å½“å‰æœºä½“ç³»**ã€‚
   - ä½¿ç”¨çŸ©é˜µ **$R^T$**ï¼ˆ$R$ æ˜¯æœºä½“è½¬ä¸–ç•Œçš„ï¼Œå®é™…ä¸Šæ˜¯$R_b^n$çš„ç¼©å†™ï¼Œæ‰€ä»¥åè¿‡æ¥å°±æ˜¯ $R^T$ï¼‰ã€‚
   - è¿ç®—ï¼š$R^T \cdot (\text{åˆšæ‰çš„ç»“æœ})$ã€‚

ç°åœ¨ï¼Œè¿™ä¸€é¡¹å·²ç»æ˜¯**â€œç«™åœ¨å½“å‰æœºä½“è§†è§’çœ‹ï¼ŒæœŸæœ›çš„è§’é€Ÿåº¦åº”è¯¥æ˜¯å¤šå°‘â€**ã€‚ç„¶åå°±å¯ä»¥æ”¾å¿ƒåœ°åšå‡æ³•äº†ã€‚

### å¸¸è§ç®€åŒ–ï¼ˆæ‚¬åœ/ç¨³æ€ï¼‰

å¦‚æœä½ çš„ä»»åŠ¡æ˜¯æ‚¬åœï¼Œæˆ–è€…åªæ˜¯é£åˆ°ä¸€ä¸ªå›ºå®šçš„å§¿æ€ï¼Œé‚£ä¹ˆæœŸæœ›è§’é€Ÿåº¦ $\omega_d = 0$ã€‚

- **è§’é€Ÿåº¦ ($\omega$)** æ˜¯è§’åº¦çš„**å˜åŒ–ç‡**ï¼ˆæ±‚å¯¼ï¼‰ã€‚

- **å›ºå®šå§¿æ€**ï¼šæ„å‘³ç€è§’åº¦**ä¸å˜**ã€‚

- ä¸ç®¡ä½ æ˜¯â€œæ°´å¹³æ‚¬åœâ€ï¼Œè¿˜æ˜¯â€œä¿æŒå€¾æ–œ 30 åº¦å‘å‰é£â€ï¼Œåªè¦ä½ çš„**å€¾æ–œè§’åº¦ä¸å‘ç”Ÿå˜åŒ–**ï¼Œä½ çš„è§’é€Ÿåº¦å°±æ˜¯ **0**ã€‚

å…¬å¼ç¬é—´å˜æˆï¼š
$$
e_\omega = \omega - 0 = \omega
$$
è¿™åœ¨å·¥ç¨‹è°ƒè¯•ä¸­éå¸¸å¸¸è§ï¼Œå«â€œçº¯é˜»å°¼æ¨¡å¼â€ã€‚

------

##  å§¿æ€å‡ ä½•æ§åˆ¶å¾‹

æ§åˆ¶å¾‹ï¼ˆå¿½ç•¥å‰é¦ˆé¡¹ï¼‰ï¼Œæ­¤å¤„å°±æ˜¯ä¸ºäº†ä»£æ›¿PIDçš„è¾“å‡ºåŠ›çŸ©ï¼Œå› ä¸ºä»–å‡è®¾ä¸‰ä¸ªè½´çš„åŠ›çŸ©æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚æœæ­¤æ—¶ç”¨æ¬§æ‹‰è§’è¡¨ç¤ºå§¿æ€é‚£ä¹ˆæœ‰å¯èƒ½å‡ºç°ä¸‡å‘é”çš„é—®é¢˜ä¾‹å¦‚ï¼š

**å¦‚æœä½ åšäº†ä¸€ä¸ª 90 åº¦çš„æ»šè½¬ï¼ˆä¾§èº«é£ï¼‰**

- **çº¿æ€§ PID (ä»£ç é‡Œçš„)**ï¼šå®ƒä¾ç„¶å‚»å‚»åœ°è®¤ä¸ºï¼Œâ€œä¿®æ”¹ Pitchï¼ˆä¿¯ä»°ï¼‰è¯¯å·®â€åº”è¯¥å»é©±åŠ¨ Y è½´ç”µæœºã€‚
- **ç‰©ç†ç°å®**ï¼šå› ä¸ºä½ å·²ç»ä¾§èº« 90 åº¦äº†ï¼Œç°åœ¨çš„â€œæœºèº« Y è½´â€å…¶å®æŒ‡ç€å¤©ç©ºï¼ˆå˜æˆäº†åŸæ¥çš„ Yaw è½´æ–¹å‘ï¼‰ã€‚
- **åæœ**ï¼šæ¬§æ‹‰è§’ä¼šå‡ºç°**ä¸‡å‘èŠ‚æ­»é” (Gimbal Lock)** æˆ–è€…å¥‡å¼‚ç‚¹ã€‚PID ç®—å‡ºæ¥çš„åŠ›çŸ©æ–¹å‘å®Œå…¨ä¹±äº†ã€‚

ä½†å‡ ä½•ç‡å®ƒä¸å…³å¿ƒä½ æ˜¯æ»šè½¬è¿˜æ˜¯ä¿¯ä»°ã€‚

- å®ƒç®—å‡ºçš„æ˜¯ï¼š**â€œåœ¨è¿™ä¸ªç¬é—´ï¼Œè¦æƒ³æŠŠå½“å‰å§¿æ€è½¬åˆ°ç›®æ ‡å§¿æ€ï¼Œæˆ‘åº”è¯¥ç»•ç€ç©ºé—´ä¸­å“ªæ ¹è½´è½¬åŠ¨ã€‚â€**

- è¿™æ ¹è½´é€šå¸¸æ˜¯æ–œç€çš„ï¼ˆ$x, y, z$ åˆ†é‡éƒ½æœ‰ï¼‰ï¼Œè¿™å°±è‡ªåŠ¨å¤„ç†äº†**è€¦åˆ**ã€‚

ä¸‹é¢æ˜¯ä»£ç ï¼š

```c++
        const Eigen::VectorXd u_p = cfg_.kp.cwiseProduct(e);
        const Eigen::VectorXd u_d = (cfg_.enable_derivative ? Eigen::VectorXd(cfg_.kd.cwiseProduct(d_state_))
                                                            : Eigen::VectorXd::Zero(n_));
        const Eigen::VectorXd u_i = (cfg_.enable_integrator ? Eigen::VectorXd(cfg_.ki.cwiseProduct(i_state_))
                                                            : Eigen::VectorXd::Zero(n_));
```

$$
æ•°å­¦è¡¨è¾¾æ˜¯è¿™æ ·çš„ï¼š\begin{bmatrix} \tau_x \\ \tau_y \\ \tau_z \end{bmatrix} =
\begin{bmatrix} k_{px} & 0 & 0 \\ 0 & k_{py} & 0 \\ 0 & 0 & k_{pz} \end{bmatrix}
\begin{bmatrix} e_x \\ e_y \\ e_z \end{bmatrix}
$$

$$
\tau = -k_R e_R - k_\omega e_\omega + \omega\times(I\omega)
$$
ä¸è®ºä½ æ„¿ä¸æ„¿æ„ï¼Œä»»ä½•åˆšä½“ï¼ˆæ¯”å¦‚æ— äººæœºï¼‰åœ¨è½¬åŠ¨æ—¶ï¼Œéƒ½å¿…é¡»éµå®ˆ**æ¬§æ‹‰åŠ¨åŠ›å­¦æ–¹ç¨‹**ï¼š
$$
I \dot{\omega} + \omega \times (I\omega) = \tau_{\text{æ€»åŠ›çŸ©}}
$$

- $I \dot{\omega}$ï¼šè§’åŠ é€Ÿåº¦é¡¹ï¼ˆæƒ¯æ€§ Ã— åŠ é€Ÿåº¦ï¼‰ã€‚ä½ æƒ³è®©é£æœºåŠ é€Ÿè½¬ï¼Œå°±å¾—å…‹æœè¿™ä¸ªã€‚
- $\omega \times (I\omega)$ï¼š**é™€èºè€¦åˆé¡¹ï¼ˆGyroscopic Effectï¼‰**ã€‚
  - **ç›´è§‰**ï¼šä½ æ‰‹é‡Œæ‹¿ä¸ªé«˜é€Ÿæ—‹è½¬çš„æŒ‡å°–é™€èºï¼Œè¯•ç€ç¿»è½¬ä¸€ä¸‹æ‰‹è…•ï¼Œä½ ä¼šæ„Ÿè§‰åˆ°ä¸€è‚¡æ€ªæ€ªçš„åŠ›åœ¨æŠµæŠ—ä½ ï¼Œç”šè‡³æŠŠä½ çš„æ‰‹å¾€ä¾§é¢æ¨ã€‚è¿™å°±æ˜¯è¿™ä¸€é¡¹åœ¨ä½œæ€ªã€‚å®ƒæ˜¯**éçº¿æ€§çš„**ï¼Œä¼šè®©æ¨ªæ»š(Roll)å»å¹²æ‰°ä¿¯ä»°(Pitch)ï¼Œå°±æ˜¯é™€èºåŠ›çŸ©ã€‚

ä½œä¸ºæ§åˆ¶å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬è®¨åŒéçº¿æ€§ã€‚æˆ‘ä»¬å¸Œæœ›ç³»ç»Ÿåƒå¼¹ç°§ä¸€æ ·ç®€å•ï¼ˆ$F=ma$ï¼‰ã€‚é‚£æ€ä¹ˆåŠï¼Ÿ

æ—¢ç„¶ç‰©ç†å®šå¾‹é‡Œæœ‰ä¸€ä¸ª $-\omega \times (I\omega)$ åœ¨æ£ä¹±ï¼Œé‚£æˆ‘å°±åœ¨æˆ‘çš„ç”µæœºè¾“å‡º $\tau$ é‡Œï¼Œæ•…æ„åŠ ä¸Šä¸€ä¸ª $+\omega \times (I\omega)$ã€‚

- **ç‰©ç†æ–¹ç¨‹**ï¼š$I \dot{\omega} = \tau - \omega \times (I\omega)$

- **æˆ‘çš„æ§åˆ¶**ï¼š$\tau = u_{\text{çº¿æ€§}} + \omega \times (I\omega)$

- ä»£å…¥åï¼š
  $$
  I \dot{\omega} = (u_{\text{çº¿æ€§}} + \color{red}{\omega \times (I\omega)}) - \color{red}{\omega \times (I\omega)}\\
  I \dot{\omega} = u_{\text{çº¿æ€§}}
  $$

çœ‹ï¼éçº¿æ€§é¡¹è¢«æˆ‘ä»¬äººä¸ºâ€œæ³¨é”€â€äº†ï¼è¿™å°±å«å‰é¦ˆè¡¥å¿æˆ–åé¦ˆçº¿æ€§åŒ–ã€‚ç°åœ¨ï¼Œå¯¹äºæ§åˆ¶å™¨æ¥è¯´ï¼Œé£æœºå˜æˆäº†ä¸€ä¸ªçº¯ç²¹çš„ã€ä¹–å·§çš„æƒ¯æ€§ä½“ï¼Œæ²¡æœ‰é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„é™€èºæ•ˆåº”äº†ã€‚

> å·¥ç¨‹ç›´è§‰ï¼šå¦‚æœä½ ä¸åŠ è¿™ä¸€é¡¹ï¼Œé£æœºåœ¨å¤§è§’é€Ÿåº¦æ—‹è½¬æ—¶ï¼ˆæ¯”å¦‚æ€¥è½¬å¼¯ï¼‰ï¼Œä½ ä¼šå‘ç°å®ƒä¼šè«åå…¶å¦™åœ°æŠ¬å¤´æˆ–ä½å¤´ï¼ˆè½´é—´è€¦åˆï¼‰ã€‚åŠ ä¸Šè¿™ä¸€é¡¹ï¼Œé£æœºå°±â€œè§£è€¦â€äº†ï¼Œè½¬å¼¯å°±æ˜¯è½¬å¼¯ï¼Œä¸ä¼šå¸¦å‡ºåˆ«çš„åŠ¨ä½œã€‚

æŠŠéçº¿æ€§æ¶ˆæ‰åï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„äºŒé˜¶ç³»ç»Ÿï¼š
$$
I \dot{\omega} = -k_R e_R - k_\omega e_\omega
$$
è¿™å®Œå…¨å°±æ˜¯ä½ é«˜ä¸­ç‰©ç†å­¦çš„**å¼¹ç°§é˜»å°¼ç³»ç»Ÿ** ($ma = -kx - cv$)ï¼š

- **$-k_R e_R$ (æ¯”ä¾‹é¡¹ P / å¼¹ç°§)**ï¼š
  - $e_R$ æ˜¯ä½ç§»ï¼ˆè§’åº¦å·®ï¼‰ã€‚
  - $k_R$ æ˜¯å¼¹ç°§åŠ²åº¦ç³»æ•°ã€‚
  - **ä½œç”¨**ï¼šåªè¦æœ‰è§’åº¦è¯¯å·®ï¼Œå°±äº§ç”ŸåŠ›çŸ©æŠŠä½ æ‹‰å›å»ã€‚$k_R$ è¶Šå¤§ï¼Œæ‹‰å¾—è¶ŠçŒ›ï¼Œä½†ä¹Ÿè¶Šå®¹æ˜“éœ‡è¡ã€‚
- **$-k_\omega e_\omega$ (å¾®åˆ†é¡¹ D / é˜»å°¼)**ï¼š
  - $e_\omega$ æ˜¯é€Ÿåº¦ï¼ˆè§’é€Ÿåº¦å·®ï¼‰ã€‚
  - $k_\omega$ æ˜¯é˜»å°¼ç³»æ•°ï¼ˆç²˜æ»åº¦ï¼‰ã€‚
  - **ä½œç”¨**ï¼šå½“ä½ å¿«é€Ÿå†²å‘ç›®æ ‡æ—¶ï¼Œå®ƒäº§ç”Ÿåå‘åŠ›çŸ©åˆ¹è½¦ï¼Œé˜²æ­¢ä½ å†²è¿‡å¤´ã€‚$k_\omega$ è¶Šå¤§ï¼ŒåŠ¨ä½œè¶Šè¿Ÿç¼“/ç²˜æ»ã€‚

$$
\tau = \underbrace{-k_R e_R}_{\text{æŠŠé£æœºæ‹‰æ­£}} \quad \underbrace{-k_\omega e_\omega}_{\text{åˆ«è®©é£æœºæ™ƒ}} \quad \underbrace{+\ \omega \times (I\omega)}_{\text{æŠµæ¶ˆé™€èºæ•ˆåº”}}
$$
### å¸¦æœ‰å‰é¦ˆçš„æ§åˆ¶å¾‹

$$
\boxed{
\tau = -k_Re_R - k_\omega e_\omega
+ \omega\times(I\omega)
- I\big(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d\big)
}
$$

å› ä¸º**ä»â€œç¨³ä½åˆ°æŸä¸ªå›ºå®šå§¿æ€â€å‡çº§åˆ°äº†â€œè·Ÿè¸ªä¸€ä¸ªéšæ—¶é—´å˜åŒ–çš„æœŸæœ›å§¿æ€/æœŸæœ›è§’é€Ÿåº¦è½¨è¿¹â€**ã€‚ä¸€æ—¦$ (R_d(t),\ \omega_d(t))$ ä¸æ˜¯å¸¸æ•°ï¼Œå®šä¹‰çš„è§’é€Ÿåº¦è¯¯å·®
$$
e_\omega=\omega - R^TR_d,\omega_d
$$

åœ¨æ±‚å¯¼æ—¶ä¼š**é¢å¤–å†’å‡ºä¸¤é¡¹**ï¼›é‚£ä¸¤é¡¹å¦‚æœä¸å¤„ç†ï¼Œå°±ä¼šå˜æˆé—­ç¯é‡Œçš„â€œæ‰°åŠ¨/è€¦åˆé¡¹â€ï¼Œè®©è·Ÿè¸ªå˜å·®ã€è°ƒå‚æ›´éš¾ã€‚å¸¸è§çš„åšæ³•å°±æ˜¯æŠŠå®ƒä»¬**å‰é¦ˆè¡¥å¿æ‰ï¼Œäºæ˜¯æ§åˆ¶å¾‹åé¢å°±å¤šå‡ºæ¥ä½ çœ‹åˆ°çš„ä¸œè¥¿ã€‚

------

#### 1) å…ˆç»Ÿä¸€è¿™å¥—ç¬¦å·åœ¨è¯´ä»€ä¹ˆ

è¿™å¥—å…¬å¼å¯¹åº”æœ€å¸¸è§çš„å‡è®¾ï¼š**è§’é€Ÿåº¦ç”¨ body åæ ‡è¡¨è¾¾ï¼ŒæœŸæœ›å§¿æ€ä¹ŸåŒç†**ã€‚è¿™æ—¶æ—‹è½¬è¿åŠ¨å­¦æ˜¯ï¼š
$$
\dot R = R\hat\omega,\qquad \hat\omega = R^T\dot R
$$

$$
\dot R_d = R_d\hat\omega_d,\qquad \hat\omega_d = R_d^T\dot R_d
$$

åˆšä½“åŠ¨åŠ›å­¦ï¼ˆbody è¡¨è¾¾ï¼‰ï¼š
$$
\tau = I\dot\omega + \omega\times(I\omega)
$$

------

#### 2) ä¸ºä»€ä¹ˆâ€œè·Ÿè¸ªç‰ˆâ€æ§åˆ¶å¾‹ä¸€å®šä¼šå¤šé¡¹ï¼Ÿ

æ ¸å¿ƒåœ¨ï¼š($\dot e_\omega$)ï¼Œä¹‹å‰ç®€åŒ–ç‰ˆï¼Œå¤šåŠé»˜è®¤ï¼š

- ($R_d$) æ˜¯å¸¸æ•°ï¼ˆå®šç‚¹å§¿æ€ï¼‰
- ($\omega_d=0,\ \dot\omega_d=0$)

é‚£æ ·å¾ˆå¤šé¡¹ç›´æ¥ä¸ºé›¶ï¼Œæ‰€ä»¥çœ‹èµ·æ¥å¾ˆâ€œçŸ­â€ã€‚ä½†ç°åœ¨å®šä¹‰äº†ï¼š
$$
e_\omega=\omega - R^TR_d,\omega_d
$$
ä¸ºäº†çœ‹æ§åˆ¶å¾‹ä¸ºä»€ä¹ˆè¦å¤šé¡¹ï¼Œæˆ‘ä»¬åªåšä¸€ä»¶äº‹ï¼š**æŠŠ $(e_\omega) $å¯¹æ—¶é—´æ±‚å¯¼**ã€‚
$$
\dot e_\omega = \dot\omega - \frac{d}{dt}(R^TR_d\omega_d)
$$
å…³é”®å°±æ˜¯å³è¾¹ç¬¬äºŒé¡¹ï¼š$(\frac{d}{dt}(R^TR_d\omega_d))$ã€‚**R(t) æ˜¯éšæ—¶é—´å˜åŒ–çš„**ï¼ˆæœºä½“åœ¨åŠ¨ï¼‰ï¼Œæ‰€ä»¥$R^T(t)R_d(t)$ä¹Ÿæ˜¯æ—¶é—´å˜åŒ–çš„ã€‚å…ˆç”¨ä¹˜ç§¯æ±‚å¯¼ï¼š
$$
\frac{d}{dt}(R^TR_d\omega_d)=\dot(R^TR_d)\omega_d + R^TR_d\dot\omega_d
$$
ç°åœ¨ç®— $\dot(R^TR_d$)ã€‚ä»ç„¶ä¹˜ç§¯æ±‚å¯¼ï¼š
$$
\dot(R^TR_d)=\dot R^T R_d + R^T\dot R_d \\
\because\dot R = R\hat\omega\Rightarrow \dot R^T = (R\hat\omega)^T = \hat\omega^T R^T = -\hat\omega R^T\\
\therefore \dot R^T R_d = -\hat\omega R^TR_d\\
åˆ\because\dot R_d = R_d\hat\omega_d\Rightarrow R^T\dot R_d = R^TR_d\hat\omega_d\\
\therefore R^T\dot R_d = R^TR_d\hat\omega_d \\
æœ€ç»ˆ\therefore  \dot(R^TR_d)= -\hat\omega R^TR_d + R^TR_d\hat\omega_d
$$
å¸¦å›å»ï¼š
$$
\dot(R^TR_d\omega_d)=\big(-\hat\omega R^TR_d + R^TR_d\hat\omega_d\big)\omega_d + R^TR_d\dot\omega_d\\
\because \hat\omega_d\omega_d = \omega_d\times\omega_d = 0 \\
\therefore \boxed{
\frac{d}{dt}(R^TR_d\omega_d)= -\hat\omega R^TR_d\omega_d + R^TR_d\dot\omega_d
}  
$$
äºæ˜¯
$$
\dot e_\omega = \dot\omega - \big(-\hat\omega R^TR_d\omega_d + R^TR_d\dot\omega_d\big) \\
\Rightarrow \boxed{
\dot e_\omega = \dot\omega + \hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d
}
$$
###### ä¸ºä»€ä¹ˆè¦å¯¹ $ğ‘’_ğœ”$æ±‚å¯¼ï¼Ÿ

åœ¨æ§åˆ¶é‡Œï¼Œå¯¹è¯¯å·®æ±‚å¯¼é€šå¸¸æ˜¯å› ä¸ºï¼šä½ è¦è®©è¯¯å·®å˜å°ï¼Œå°±å¿…é¡»çŸ¥é“â€œè¯¯å·®æ€ä¹ˆéšæ—¶é—´å˜åŒ–â€ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„**è¯¯å·®åŠ¨åŠ›å­¦**ã€‚**è¯¯å·®æœ¬èº«ä¸å¤Ÿï¼Œä½ å¾—çŸ¥é“è¯¯å·®â€œå¾€å“ªèµ°â€**ï¼Œä½ å¸Œæœ›æœ€ç»ˆï¼š

$$
e_R \to 0,\quad e_\omega \to 0
$$
è¿™ä¸æ˜¯ä¸€å¥å£å·ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œåŠ¨æ€è¿‡ç¨‹â€ã€‚åŠ¨æ€è¿‡ç¨‹è¦é **å¾®åˆ†æ–¹ç¨‹**æè¿°ï¼š

- ä½ç½®æ§åˆ¶é‡Œï¼šä½ å…³å¿ƒ$ (\dot e_x)ã€(\ddot e_x)$
- å§¿æ€æ§åˆ¶é‡Œï¼šä½ å…³å¿ƒ$ (\dot e_R)ã€(\dot e_\omega)$

å› ä¸ºä½ æ–½åŠ çš„æ˜¯åŠ›çŸ© ($\tau$)ï¼Œå®ƒé€šè¿‡åŠ¨åŠ›å­¦æ–¹ç¨‹å½±å“çš„æ˜¯ **($\dot\omega$)**ï¼ˆè§’åŠ é€Ÿåº¦ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥æŠŠ ($\omega$) æˆ– ($R$) ç¬é—´æ”¹æ‰ã€‚åˆšä½“åŠ¨åŠ›å­¦ï¼ˆbodyåæ ‡ï¼‰æ˜¯ï¼š
$$
\tau = I\dot\omega + \omega\times(I\omega)
$$
**æ§åˆ¶è¾“å…¥ ($\tau$) ç›´æ¥ä½œç”¨åœ¨ ($\dot\omega$)** ä¸Šã€‚è€Œ ($e_\omega$) é‡ŒåŒ…å« ($\omega$)ï¼Œæ‰€ä»¥ä½ è¦çŸ¥é“ $(\tau$) å¦‚ä½•å½±å“ ($e_\omega$)ï¼Œå°±è‡ªç„¶è¦çœ‹ï¼š$\dot e_\omega$ï¼Œä¹Ÿå³è¦å›ç­”è¿™æ ·ä¸€ä¸ªé—®é¢˜ã€‚

> æˆ‘æ–½åŠ çš„$ \tau$ ç©¶ç«Ÿä¼šè®© $e_\omega$ æ€ä¹ˆå˜ï¼Ÿä¼šè®©è¯¯å·®å˜å°è¿˜æ˜¯å˜å¤§ï¼Ÿ

- è¿™ä¸ªé—®é¢˜åœ¨æ•°å­¦ä¸Šå¯¹åº”çš„å°±æ˜¯ï¼š**å†™å‡º $\dot e_\omega$**ï¼ŒæŠŠå®ƒå’Œ $\tau$è”ç³»èµ·æ¥ã€‚

å¼¹ç°§é˜»å°¼å™¨ä»–æ˜¯ä¸€ç§æ§åˆ¶éƒ½æƒ³è¦çš„ç†æƒ³ç³»ç»Ÿï¼Œä»–ä¼šè‡ªç„¶è€Œç„¶çš„è¾¾åˆ°å¹³è¡¡æ¡ä»¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä»…ä»…çš„å°†äºŒé˜¶é¡¹çœ‹æˆåŠ é€Ÿåº¦ï¼Œä»–å¯ä»¥ä»£è¡¨ä»»ä½•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥å°†ä»–çœ‹ä¸ºè¯¯å·®è§’é€Ÿåº¦çš„å˜åŒ–ç‡ï¼Œä¹Ÿå³è¯¯å·®è§’åŠ é€Ÿåº¦ï¼Œä»¥åˆ†æå¦‚ä½•æ‰èƒ½è¾¾åˆ°å¼¹ç°§é˜»å°¼äºŒé˜¶ç³»ç»Ÿã€‚

------

######  ä¸ºä»€ä¹ˆè¦å†™æˆ ($I\dot e_\omega$)ï¼Ÿ

**å•ä½ä¸ç‰©ç†æ„ä¹‰**ï¼šæŠŠâ€œè§’åŠ é€Ÿåº¦è¯¯å·®â€å˜æˆâ€œåŠ›çŸ©é‡çº§â€ï¼Œ($\dot e_\omega$) çš„å•ä½æ˜¯ rad/sÂ²ï¼ˆè§’åŠ é€Ÿåº¦çš„è¯¯å·®ï¼‰ã€‚ä¹˜ä¸Šæƒ¯é‡çŸ©é˜µ (I)ï¼ˆå•ä½ kgÂ·mÂ²ï¼‰åï¼Œ($I\dot e_\omega$) çš„å•ä½å°±æ˜¯ **NÂ·m**ï¼Œä¹Ÿå°±æ˜¯**åŠ›çŸ©**ã€‚

æ ¹æ®ç‰›é¡¿ç¬¬äºŒå®šå¾‹ $F = ma$ï¼š
$$
1 \ N = 1 \ kg \cdot \frac{m}{s^2}
$$

$$
I \dot{e}_\omega
$$

- **æƒ¯é‡ $I$ çš„å•ä½ï¼š** $kg \cdot m^2$
- **è§’åŠ é€Ÿåº¦ $\dot{e}_\omega$ çš„å•ä½ï¼š** $rad/s^2$

å°†å®ƒä»¬ç›¸ä¹˜ï¼š
$$
Unit = (kg \cdot m^2) \times (\frac{rad}{s^2})
$$
è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®ç‚¹ï¼š**å¼§åº¦ï¼ˆradï¼‰æ˜¯é‡çº²ä¸º 1 çš„å•ä½ï¼ˆæ— é‡çº²ï¼‰ã€‚**å› ä¸º $\theta = \frac{\text{å¼§é•¿}}{\text{åŠå¾„}} = \frac{m}{m}$ï¼Œæ‰€ä»¥åœ¨æ¶‰åŠåŠ›å­¦å’Œèƒ½é‡çš„é‡çº²åˆ†æä¸­ï¼Œ**rad å¯ä»¥è¢«è§†ä¸º 1 è€Œçœç•¥**ã€‚å…¬å¼å˜ä¸ºï¼š
$$
Unit = kg \cdot m^2 \cdot \frac{1}{s^2} = \frac{kg \cdot m^2}{s^2} \\
\because   N =  kg \cdot \frac{m}{s^2} \\
\therefore \left( \frac{kg \cdot m}{s^2} \right) \cdot m= N \cdot m
$$
å³åŠ›çŸ©ï¼ˆ$N \cdot m$ï¼‰

> è¿™è®©ä½ èƒ½æŠŠè¯¯å·®åŠ¨åŠ›å­¦ç›´æ¥å†™æˆâ€œåŠ›çŸ©å¹³è¡¡â€çš„å½¢å¼ï¼Œè·ŸçœŸå®ç³»ç»Ÿè¾“å…¥åŒé‡çº²ã€‚

å¹³ç§»äºŒé˜¶ç³»ç»Ÿï¼Œä¹Ÿå³åŸºæœ¬ä¸Šæ§åˆ¶åœ¨è¿½æ±‚çš„å¼¹ç°§é˜»å°¼ç³»ç»Ÿï¼š
$$
m\ddot x = -k x - c\dot x
$$
æˆ‘ä»¬æŠŠå®ƒå†™æˆç‰›é¡¿å®šå¾‹çš„æ ‡å‡†å½¢å¼ï¼ˆåŠ› = åŠ›çš„æ€»å’Œï¼‰ï¼š **æƒ¯æ€§åŠ› = å¼¹ç°§åŠ› + é˜»å°¼åŠ›**ï¼Œä¹Ÿå³:
$$
F = m\ddot{x}
$$
æˆ–è€…æˆ‘ä»¬åœ¨å·¥ç¨‹ä¸­å¸¸å†™æˆï¼š
$$
F - m\ddot{x} = 0
$$

>æƒ¯æ€§åŠ›æ˜¯ä½ ä¸ºäº†æ”¹å˜ç‰©ä½“çš„è¿åŠ¨çŠ¶æ€ï¼Œå¿…é¡»å…‹æœçš„é‚£ä¸ªâ€œæŠµæŠ—åŠ²å„¿â€ã€‚
>
>**ç†è§£ Aï¼šç‰›é¡¿çš„è§†è§’ï¼ˆå› æœå…³ç³»ï¼‰**
>
>- $F$ æ˜¯**å› **ï¼ˆæ–½åŠ çš„åŠ›ï¼‰ã€‚
>- $\ddot{x}$ æ˜¯**æœ**ï¼ˆäº§ç”Ÿçš„åŠ é€Ÿåº¦ï¼‰ã€‚
>- $m$ æ˜¯**æ¯”ä¾‹ç³»æ•°**ã€‚
>- **æ„æ€ï¼š** æˆ‘æ¨äº†ä½ ï¼ˆ$F$ï¼‰ï¼Œæ‰€ä»¥ä½ åŠ¨äº†ï¼ˆ$\ddot{x}$ï¼‰ã€‚è¿™é‡Œæ²¡æœ‰â€œæƒ¯æ€§åŠ›â€è¿™ä¸ªè¯ï¼Œåªæœ‰å¤–åŠ›ã€‚
>
>**ç†è§£ Bï¼šè¾¾æœ—è´å°”ï¼ˆD'Alembertï¼‰çš„è§†è§’ï¼ˆå¹³è¡¡å…³ç³»ï¼‰â€”â€” æƒ¯æ€§åŠ›ç™»åœº**
>
>å·¥ç¨‹å¸ˆå¾ˆå–œæ¬¢æŠŠåŠ¨æ€é—®é¢˜çœ‹æˆé™æ€é—®é¢˜æ¥ç®—ï¼Œäºæ˜¯ä»–ä»¬æŠŠå…¬å¼æ”¹å†™äº†ï¼š
>
>$$F + (-m\ddot{x}) = 0$$
>
>- è¿™é‡Œï¼Œ$F$ æ˜¯å¤–åŠ›ï¼ˆæ¯”å¦‚å¼¹ç°§åŠ›ï¼‰ã€‚
>
>- æˆ‘ä»¬å°† $-m\ddot{x}$ å®šä¹‰ä¸º**æƒ¯æ€§åŠ›**ã€‚
>
>- **æ„æ€ï¼š** å¤–åŠ› $F$ æƒ³è®©ä½ åŠ¨ï¼Œä½†æ˜¯æƒ¯æ€§åŠ› $-m\ddot{x}$ æ‹¼å‘½æŠµæŠ—ï¼Œä¸æƒ³è®©ä½ åŠ¨ã€‚è¿™ä¸¤ä¸ªåŠ›â€œæŠµæ¶ˆâ€äº†ï¼Œç³»ç»Ÿå°±å¹³è¡¡äº†ã€‚
>
>  å› æ­¤æˆ‘ä»¬éœ€è¦æ–½åŠ ä¸€ä¸ªå¤–åŠ›Fè®©ç³»ç»Ÿè¾¾åˆ°å¹³è¡¡ã€‚

æ—‹è½¬é‡Œå¯¹åº”çš„æ˜¯ï¼š
$$
I\dot\omega = \text{(åŠ›çŸ©)}
$$
è€Œ ($e_R$) ç±»ä¼¼â€œä½ç½®è¯¯å·®â€ï¼Œ($e_\omega$) ç±»ä¼¼â€œé€Ÿåº¦è¯¯å·®â€ã€‚æ‰€ä»¥å¸Œæœ›ç³»ç»Ÿåƒä¸€ä¸ªâ€œæ—‹è½¬å¼¹ç°§é˜»å°¼å™¨â€ä¸€æ ·ç¨³å®šï¼Œæœ€è‡ªç„¶çš„ç›®æ ‡å°±æ˜¯ï¼š
$$
I\dot e_\omega = -k_R e_R - k_\omega e_\omega
$$
è¿™å°±æ˜¯æŠŠæ—‹è½¬é—­ç¯åšæˆâ€œè´¨é‡-å¼¹ç°§-é˜»å°¼â€çš„æ ‡å‡†å¥—è·¯ã€‚

>åœ¨æ—‹è½¬æ§åˆ¶é‡Œï¼Œæˆ‘ä»¬é€šè¿‡é€‰æ‹©åŠ›çŸ© $\tau $æ¥æŠŠè¯¯å·®åŠ¨åŠ›å­¦æ•´å½¢æˆä¸€ä¸ªâ€œæƒ¯é‡-å¼¹ç°§-é˜»å°¼â€çš„äºŒé˜¶ç³»ç»Ÿ $I\ddot e + K_d\dot e + K_p e = 0$ï¼Œè¿™æ ·åªè¦ $K_p,K_d>0$ ä¸”ä¸é¥±å’Œï¼Œè¯¯å·®ä¼šåƒè¢«å¼¹ç°§æ‹‰å›å¹¶è¢«é˜»å°¼è€—æ•£ä¸€æ ·è‡ªç„¶æ”¶æ•›åˆ° $e=0$ã€‚
>
>å¾ˆå¤šæ§åˆ¶å™¨çš„è®¾è®¡ç›®æ ‡ï¼Œå°±æ˜¯æŠŠå¤æ‚éçº¿æ€§ç³»ç»Ÿçš„é—­ç¯è¯¯å·®åŠ¨åŠ›å­¦ï¼Œæ•´å½¢æˆä¸€ä¸ªç±»ä¼¼å¼¹ç°§-é˜»å°¼å™¨çš„ç¨³å®šäºŒé˜¶ç³»ç»Ÿã€‚è¿™æ ·åªè¦å¢ç›Šå–æ­£ã€æ¨¡å‹è¯¯å·®å’Œé¥±å’Œä¸å¤ªä¸¥é‡ï¼Œè¯¯å·®èƒ½é‡ä¼šè‡ªç„¶è¡°å‡å¹¶æ”¶æ•›åˆ° 0ï¼›è°ƒå‚ä¸»è¦æ˜¯åœ¨é€Ÿåº¦ã€è¶…è°ƒã€æŠ–åŠ¨å’Œæ‰§è¡Œå™¨èƒ½åŠ›ä¹‹é—´æƒè¡¡ã€‚

---

#### 3) è¿™ä¸¤é¡¹ä¸ºä»€ä¹ˆè¦å¡è¿›æ§åˆ¶å¾‹ï¼Ÿå› ä¸ºæˆ‘ä»¬æƒ³è¦â€œå¹²å‡€çš„è¯¯å·®åŠ¨åŠ›å­¦â€

æŠŠåŠ¨åŠ›å­¦ ($\tau = I\dot\omega + \omega\times(I\omega)$) æ”¹å†™æˆï¼š
$$
\dot\omega = I^{-1}\big(\tau - \omega\times(I\omega)\big)
$$
æŠŠå®ƒä»£å…¥ ($\dot e_\omega$) å¹¶ä¸¤è¾¹ä¹˜ ($I$)ï¼š
$$
I\dot e_\omega
= \tau - \omega\times(I\omega) + I\big(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d\big)
$$
ä½ ç°åœ¨å°±çœ‹è§äº†ï¼š**å³ä½¿ä½ åªæƒ³åšä¸ªâ€œPDâ€ï¼š($I\dot e_\omega = -k_Re_R - k_\omega e_\omega$)**ï¼Œå³è¾¹ä¹Ÿä¼šå¤šå‡ºé‚£ä¸€å¨ï¼š
$$
-\omega\times(I\omega) + I(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d)
$$
æ‰€ä»¥æœ€å¸¸è§çš„å‡ ä½•æ§åˆ¶è®¾è®¡æ€è·¯å°±æ˜¯ï¼š**æŠŠè¿™äº›â€œéçº¿æ€§/è€¦åˆ/å‚è€ƒå˜åŒ–â€é¡¹ç”¨å‰é¦ˆè¡¥å¿æŠµæ¶ˆæ‰**ã€‚ä¹Ÿå°±æ˜¯é€‰
$$
\boxed{
\tau = -k_Re_R - k_\omega e_\omega+\omega\times(I\omega)-I\big(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d\big)
}
$$
å¸¦å›ä¸Šä¸€è¡Œï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªéå¸¸å¹²å‡€çš„é—­ç¯è¯¯å·®åŠ¨åŠ›å­¦ï¼š
$$
\boxed{
I\dot e_\omega = -k_Re_R - k_\omega e_\omega
}
$$
è¿™å°±æ˜¯å®ƒâ€œçœ‹èµ·æ¥å¤æ‚â€çš„çœŸå®åŸå› ï¼š

> **å¤æ‚æ˜¯ä¸ºäº†æŠŠé—­ç¯å˜ç®€å•ã€‚**ï¼ˆæŠŠä½ ä¸æƒ³è¦çš„é¡¹éƒ½æå‰ç®—å‡ºæ¥æŠµæ¶ˆæ‰ã€‚ï¼‰

------

#### 4) è¿è¾“é¡¹ä¸æœŸæœ›è§’åŠ é€Ÿåº¦å‰é¦ˆ

$$
\boxed{
\tau = -k_Re_R - k_\omega e_\omega+\omega\times(I\omega)-I\big(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d\big)
}
$$

$$
-I(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d)
$$

å‚è€ƒè½¨è¿¹çš„â€œæ¬è¿ + åŠ é€Ÿåº¦å‰é¦ˆâ€è¡¥å¿ï¼Œè¿™éƒ¨åˆ†ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆï¼š**â€œå› ä¸ºä½ çš„ç›®æ ‡åœ¨åŠ¨ï¼Œæ‰€ä»¥ä½ å¿…é¡»è¡¥ä¸Šç›®æ ‡è¿åŠ¨å¼•å…¥çš„é¢å¤–é¡¹â€**ã€‚å®ƒåŒ…å«ä¸¤å°é¡¹ï¼š
$$
(-I(\hat\omega R^TR_d\omega_d))
$$
**åæ ‡ç³»åœ¨è½¬å¯¼è‡´çš„â€˜è¿è¾“é¡¹â€™ï¼ˆtransport termï¼‰**

- ($R^TR_d\omega_d$) æ˜¯â€œæŠŠæœŸæœ›è§’é€Ÿåº¦ä»æœŸæœ›æœºä½“ç³»æ¬åˆ°å½“å‰æœºä½“ç³»â€
- ä½†å½“å‰æœºä½“ç³»æœ¬èº«åœ¨ä»¥ ($\omega$) è½¬åŠ¨
- åœ¨æ—‹è½¬åæ ‡ç³»é‡Œï¼Œå¯¹ä¸€ä¸ªå‘é‡æ±‚å¯¼ä¼šå‡ºç°ç±»ä¼¼â€œç§‘é‡Œå¥¥åˆ©/è¿è¾“â€çš„é¡¹ï¼Œç”¨å‰ä¹˜æ›´ç›´è§‚ï¼š($\hat\omega x = \omega\times x$)ã€‚

å®ƒçš„ä½œç”¨ï¼š**é˜²æ­¢å› ä¸ºâ€œåæ ‡åœ¨è½¬â€è€ŒæŠŠè·Ÿè¸ªè¯¯å·®æä¹±**ã€‚
$$
+I(R^TR_d\dot\omega_d)
$$
**æœŸæœ›è§’åŠ é€Ÿåº¦çš„å‰é¦ˆ**å¦‚æœä½ çš„å‚è€ƒè§’é€Ÿåº¦ ($\omega_d(t)$) åœ¨å˜ï¼ˆæ¯”å¦‚åšæœºåŠ¨è½¨è¿¹ï¼‰ï¼Œé‚£ä½ è¦è·Ÿä¸Šå®ƒï¼Œå…‰é  PD è¯¯å·®ååº”ä¼šæ…¢ä¸€æ‹ã€‚æ‰€ä»¥æŠŠ ($\dot\omega_d$)é€šè¿‡ $(R^TR_d) $æ¬è¿åˆ°å½“å‰æœºä½“ç³»ï¼Œå†ä¹˜ä»¥ ($I$) ç›´æ¥å‰é¦ˆåˆ°åŠ›çŸ©é‡Œã€‚

ä¸ºä»€ä¹ˆä½ ä¹‹å‰æ²¡è§è¿‡ï¼Ÿå› ä¸ºé‚£æ—¶å¸¸å¸¸é»˜è®¤ ($\omega_d=0,\ \dot\omega_d=0$)åšâ€œå®šç‚¹å§¿æ€ç¨³å®šâ€ï¼ˆhover/pointingï¼‰ï¼Œé‚£ä¹ˆæ–°å¢é¡¹æ•´å¨ç›´æ¥æ¶ˆå¤±ï¼Œæ§åˆ¶å¾‹å°±é€€åŒ–å›ä½ ç†Ÿæ‚‰çš„çŸ­ç‰ˆæœ¬ï¼š
$$
\omega_d = 0,\qquad \dot\omega_d=0 \\
-I(\hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d)=0\\
\therefore \tau = -k_Re_R - k_\omega \omega + \omega\times(I\omega)
$$
---

##### â€œè¿è¾“é¡¹â€åˆ°åº•æ˜¯ä»€ä¹ˆç‰©ç†æ„ä¹‰ï¼Ÿ

$$
\hat\omega R^TR_d\omega_d \quad\text{ï¼ˆç­‰ä»·äº }\ \omega\times(R^TR_d\omega_d)\text{ï¼‰}
$$

**æ—‹è½¬åæ ‡ç³»çš„è¿è¾“å®šç† / transport theorem**ã€‚å…¶å®å°±æ˜¯ä¸€å¥éå¸¸æœ´ç´ çš„äº‹å®ï¼š

> **åœ¨æ—‹è½¬åæ ‡ç³»é‡Œï¼Œçœ‹ä¸€ä¸ªå‘é‡çš„â€œåˆ†é‡å˜åŒ–â€ï¼Œä¼šå¤šå‡ºä¸€é¡¹ ($\omega\times(\cdot)$)ã€‚**

**æƒ¯æ€§ç³»é‡Œä¸€ä¸ªå‘é‡ä¸åŠ¨ï¼Œä½†åœ¨æœºä½“ç³»é‡Œå®ƒä¼šå˜**ï¼šè®¾æœ‰ä¸€ä¸ªæƒ¯æ€§ç³»å›ºå®šå‘é‡ ($v_I$)ï¼ˆæ¯”å¦‚åŒ—æ–¹å‘ã€é‡åŠ›æ–¹å‘ï¼‰ã€‚æœºä½“åœ¨è½¬ï¼Œæœºä½“ç³»ç›¸å¯¹æƒ¯æ€§ç³»çš„å§¿æ€æ˜¯ (R)ã€‚æœºä½“ç³»é‡Œçœ‹åˆ°å®ƒçš„åˆ†é‡æ˜¯ï¼š
$$
v_b = R^T v_I\\
\dot v_b = \dot(R^T) v_I\\
\because \dot R = R\hat\omega \Rightarrow \dot(R^T) = -\hat\omega R^T \\
\therefore\dot  v_b = -\hat\omega R^T v_I = -\hat\omega v_b = -\omega\times v_b
$$
**è§£é‡Šï¼š**
å‘é‡åœ¨æƒ¯æ€§ç³»æ ¹æœ¬æ²¡åŠ¨ï¼Œä½†å› ä¸ºä½ çš„åæ ‡è½´è‡ªå·±åœ¨è½¬ï¼Œæ‰€ä»¥å®ƒåœ¨æœºä½“ç³»çš„åˆ†é‡ä¼šâ€œçœ‹èµ·æ¥åœ¨å˜â€ã€‚è¿™å°±æ˜¯â€œè¿è¾“é¡¹â€çš„ç‰©ç†æ„ä¹‰ï¼š**ä¸æ˜¯å‘é‡çœŸçš„å˜äº†ï¼Œæ˜¯ä½ ç”¨çš„åæ ‡ç³»åœ¨å˜ã€‚**è¯¯å·®é‡Œæœ‰ä¸€é¡¹ï¼š
$$
R^TR_d\omega_d
$$
å®ƒå°±æ˜¯â€œæŠŠæœŸæœ›è§’é€Ÿåº¦ä»æœŸæœ›æœºä½“ç³»æ¬åˆ°å½“å‰æœºä½“ç³»â€çš„å‘é‡ã€‚ä½†å½“å‰æœºä½“ç³»åœ¨ä»¥ ($\omega$) è½¬åŠ¨ï¼Œæ‰€ä»¥è¿™ä¸ªâ€œæ¬è¿‡æ¥çš„å‘é‡â€çš„åˆ†é‡å˜åŒ–ä¼šå‡ºç°ä¸€ä¸ª ($-\omega\times(\cdot)$) çš„é¡¹ã€‚

è€Œä½ åœ¨æ¨å¯¼ ($\dot e_\omega$) æ—¶ä¼šå¾—åˆ°ï¼š
$$
\dot e_\omega = \dot\omega + \hat\omega R^TR_d\omega_d - R^TR_d\dot\omega_d
$$

> æ‰€ä»¥å®ƒçš„ç‰©ç†æ„ä¹‰å°±æ˜¯ï¼š
> **å½“ä½ æŠŠå‚è€ƒè§’é€Ÿåº¦æ¬åˆ°æœºä½“ç³»é‡Œå†åšå·®ï¼Œæœºä½“ç³»æœ¬èº«åœ¨è½¬ï¼Œä¼šè®©è¿™ä¸ªâ€œå‚è€ƒå‘é‡â€çœ‹èµ·æ¥é¢å¤–åœ¨å˜ï¼›è¿™éƒ¨åˆ†å¿…é¡»åœ¨è¯¯å·®åŠ¨åŠ›å­¦é‡Œä½“ç°å‡ºæ¥ã€‚**

------

##### è¿è¾“é¡¹åˆ°åº•åœ¨è·Ÿè°æœ‰å…³

> è¿è¾“é¡¹ä¸æ˜¯å› ä¸ºâ€œæœºä½“ç³»åœ¨è½¬â€å°±ä¸€å®šå‡ºç°ï¼›
> å®ƒå‡ºç°çš„å‰ææ˜¯ï¼šä½ åœ¨æ±‚å¯¼çš„é‚£ä¸ªâ€œè¢«æ¬è¿çš„å‚è€ƒå‘é‡â€æœ¬èº«**ä¸ä¸ºé›¶**ï¼ˆæˆ–åœ¨å‚è€ƒç³»é‡Œä¸ä¸ºé›¶/åœ¨å˜ï¼‰ã€‚
>
> æ ¸å¿ƒåŸå› æ˜¯ï¼š**â€œè¿è¾“é¡¹â€è¯¯ä»¥ä¸ºæ˜¯åœ¨æè¿°â€œæœºä½“åœ¨è½¬â€æœ¬èº«**ã€‚ä½†å®ƒå…¶å®æè¿°çš„æ˜¯å¦ä¸€ä»¶äº‹ï¼š
>
> > **è¿è¾“é¡¹æè¿°çš„æ˜¯ï¼šåœ¨â€œæ—‹è½¬çš„æœºä½“ç³»â€é‡Œï¼Œå»è§‚å¯Ÿ/æ¯”è¾ƒä¸€ä¸ªâ€œéé›¶çš„å‚è€ƒå‘é‡â€ï¼ˆè¿™é‡Œæ˜¯æ¬è¿åçš„å‚è€ƒè§’é€Ÿåº¦ï¼‰æ—¶ï¼Œç”±äºåæ ‡è½´åœ¨è½¬ï¼Œè¿™ä¸ªå‚è€ƒå‘é‡çš„åˆ†é‡ä¼šå‡ºç°é¢å¤–å˜åŒ–ã€‚**
> > å¦‚æœé‚£ä¸ªå‚è€ƒå‘é‡æœ¬æ¥å°±æ˜¯é›¶å‘é‡ï¼Œé‚£â€œé¢å¤–å˜åŒ–â€å°±æ ¹æœ¬æ— ä»è°ˆèµ·ï¼Œæ‰€ä»¥è¿è¾“é¡¹è‡ªåŠ¨ä¸º 0ã€‚
> >
> > **è¿è¾“é¡¹ä¸æ˜¯â€œä½ åœ¨è½¬æ‰€ä»¥æœ‰é¡¹â€ï¼Œè€Œæ˜¯â€œä½ åœ¨è½¬ + ä½ åœ¨æœºä½“ç³»é‡Œè§‚å¯Ÿä¸€ä¸ªéé›¶å‚è€ƒå‘é‡ï¼Œæ‰€ä»¥å®ƒçš„åˆ†é‡ä¼šé¢å¤–å˜åŒ–â€ã€‚**

è¿è¾“é¡¹æ¥è‡ªå¯¹è¿™ä¸€é¡¹æ±‚å¯¼ï¼š
$$
R^T R_d\omega_d
$$
ä¹Ÿå°±æ˜¯è¯´ï¼š**è¿è¾“é¡¹æ˜¯â€œæœŸæœ›è§’é€Ÿåº¦å‘é‡â€æ¬åˆ°å½“å‰æœºä½“ç³»åï¼Œåœ¨æ—‹è½¬åæ ‡ç³»é‡Œæ±‚å¯¼æ—¶å†’å‡ºæ¥çš„é¡¹ã€‚**

------

**å…³é”®ç‚¹ï¼šè¿è¾“é¡¹è·Ÿâ€œè¢«æ¬è¿çš„å‘é‡â€æœ‰å…³ï¼Œä¸æ˜¯è·Ÿâ€œæœºä½“æ˜¯å¦åœ¨è½¬â€ç›´æ¥ç»‘å®š**ï¼Œå½“ ($\omega_d=0$) æ—¶ï¼Œæœºä½“ä»å½“å‰å§¿æ€è½¬å‘æœŸæœ›å§¿æ€çš„è¿‡ç¨‹ä¸­ï¼Œ($\omega$) ä¸€èˆ¬ä¸ä¸ºé›¶ï¼Œæœºä½“ç³»ä¹Ÿåœ¨å˜ã€‚ä½†æ³¨æ„ï¼šä½ åœ¨ ($e_\omega$) é‡Œæ¬è¿çš„æ˜¯ **($\omega_d$)**ï¼š
$$
e_\omega = \omega - R^T R_d\omega_d
$$
å¦‚æœ ($\omega_d=0$)ï¼Œé‚£ç¬¬äºŒé¡¹å°±æ˜¯0:
$$
R^T R_d\omega_d=0
$$
è¿™å¥è¯çš„ç‰©ç†å«ä¹‰æ˜¯ï¼š

> ä½ çš„ç›®æ ‡ä¸æ˜¯â€œè·Ÿè¸ªä¸€ä¸ªæ­£åœ¨æ—‹è½¬çš„ç›®æ ‡è§’é€Ÿåº¦ç®­å¤´â€ï¼Œè€Œæ˜¯â€œæœ€ç»ˆåœä½ï¼ˆç›®æ ‡è§’é€Ÿåº¦ä¸ºé›¶ï¼‰â€ã€‚

**ä½ åœ¨æœºä½“ç³»é‡Œè¦å¯¹é½/æ¯”è¾ƒçš„é‚£æ ¹å‚è€ƒè§’é€Ÿåº¦ç®­å¤´ï¼Œæœ¬æ¥å°±æ˜¯ä¸€æ ¹é•¿åº¦ä¸º 0 çš„ç®­å¤´ã€‚**è€Œæ—‹è½¬åæ ‡ç³»é€ æˆçš„â€œè¡¨è§‚å˜åŒ–â€åªå¯¹**éé›¶å‘é‡**æœ‰æ„ä¹‰ï¼š

- ä½ æ‹¿ç€ä¸€æ ¹æœ‰æ–¹å‘çš„ç®­å¤´ï¼Œåæ ‡è½´ä¸€è½¬ï¼Œå®ƒåœ¨ä½ åæ ‡é‡Œåˆ†é‡ä¼šå˜ï¼ˆè¿™å°±ä¼šå‡ºç° ($\omega\times(\cdot))$ï¼‰
- ä½†å¦‚æœç®­å¤´æœ¬æ¥å°±æ˜¯é›¶å‘é‡ï¼Œå®ƒåœ¨ä»»ä½•åæ ‡é‡Œéƒ½æ˜¯ ([0,0,0])ï¼Œæ€ä¹ˆè½¬åæ ‡éƒ½è¿˜æ˜¯ 0â†’ **æ‰€ä»¥ä¸å­˜åœ¨â€œè¡¨è§‚å˜åŒ–â€**

è¿™å°±æ˜¯æœ€çº¯ç²¹çš„ç‰©ç†æ„ä¹‰ï¼š**è¿è¾“é¡¹æè¿°çš„æ˜¯â€œå‚è€ƒå‘é‡åœ¨æ—‹è½¬åæ ‡é‡Œçœ‹èµ·æ¥æ€ä¹ˆå˜â€ï¼Œå‚è€ƒä¸ºé›¶å°±æ²¡å¾—å˜ã€‚**

è¿™ä¸ä»…æ˜¯â€œæŸä¸€æ—¶åˆ»ä¸º 0â€ï¼Œè€Œæ˜¯**å¯¹æ‰€æœ‰æ—¶åˆ»éƒ½æ’ç­‰ä¸º 0**ã€‚æ‰€ä»¥å®ƒçš„å¯¼æ•°ä¹Ÿæ˜¯ 0ï¼š
$$
\frac{d}{dt}(R^T R_d\omega_d) = \frac{d}{dt}(0) = 0
$$
å› æ­¤ä½ æ¨å¯¼ ($\dot e_\omega$) æ—¶ï¼Œé‚£å¨è¿è¾“é¡¹è‡ªç„¶å°±æ²¡äº†ã€‚è€Œé›¶å‘é‡æ°¸è¿œä¸ä¼šâ€œçœ‹èµ·æ¥åœ¨å˜â€ï¼Œåœ¨æ—‹è½¬åæ ‡ç³»é‡Œï¼Œä¸€ä¸ªå‘é‡çš„åˆ†é‡å˜åŒ–ä¼šå‡ºç° ($-\omega\times(\cdot)$)ã€‚

æ‰€ä»¥ **â€œæœºä½“ç³»åœ¨è½¬â€å¹¶ä¸è¶³ä»¥äº§ç”Ÿè¿è¾“é¡¹**ï¼›å¿…é¡»è¦â€œä½ åœ¨è·Ÿè¸ª/æ¬è¿çš„å‚è€ƒå‘é‡æœ¬èº«ä¸ä¸ºé›¶â€ï¼Œè¿è¾“é¡¹æ‰æœ‰æ„ä¹‰ã€‚

------

**é‚£æœºä½“åœ¨è½¬æ—¶â€œé‚£éƒ¨åˆ†ç‰©ç†æ•ˆåº”å»å“ªäº†â€ï¼Ÿâ€”â€”å®ƒå°±åœ¨ ($e_\omega=\omega$) é‡Œ**

å½“ ($\omega_d=0$)ï¼š
$$
e_\omega = \omega
$$
è¿™æ„å‘³ç€ï¼šä½ æŠŠâ€œæœºä½“æ­£åœ¨è½¬â€è¿™ä»¶äº‹ï¼Œå®Œå…¨å½“æˆäº†â€œè§’é€Ÿåº¦è¯¯å·®â€ï¼Œå¹¶ç”¨é˜»å°¼å™¨å»åˆ¹è½¦
$$
-k_\omega e_\omega = -k_\omega \omega
$$
å°±æ˜¯åœ¨åš**è§’é€Ÿåº¦é˜»å°¼**ï¼šä½ è½¬å¾—è¶Šå¿«ï¼Œå®ƒåˆ¹å¾—è¶Šç‹ ï¼Œæœ€ç»ˆæŠŠ ($\omega$) å‹åˆ° 0ï¼ˆç¨³å®šä¸‹æ¥ï¼‰ã€‚å³ä½¿ä½ åªæƒ³â€œåˆ¹ä½æ—‹è½¬â€ï¼ŒçœŸå®åˆšä½“ä¹Ÿä¸æ˜¯æ¯ä¸ªè½´äº’ä¸å¹²æ‰°çš„ã€‚é™€èºæ•ˆåº”ä¼šè®©æŸè½´çš„è§’é€Ÿåº¦å½±å“å¦ä¸¤è½´çš„è§’åŠ é€Ÿåº¦ã€‚æ‰€ä»¥åŠ¨åŠ›å­¦æœ‰ï¼š
$$
\tau = I\dot\omega + \omega\times(I\omega)
$$
æ§åˆ¶é‡ŒåŠ ï¼š
$$
+\omega\times(I\omega)
$$
å°±æ˜¯æŠŠè¿™å¨çœŸå®ç‰©ç†éçº¿æ€§æŠµæ¶ˆæ‰ï¼Œè®©ç³»ç»Ÿæ›´æ¥è¿‘ï¼š
$$
I\dot\omega \approx \tau_{\text{PDéƒ¨åˆ†}}
$$
**è¿™å±äºâ€œæœºä½“åœ¨è½¬æ—¶çœŸå®åŠ¨åŠ›å­¦ä¼šå˜å¤æ‚â€çš„æ•ˆåº”ï¼Œè·Ÿè¿è¾“é¡¹ä¸æ˜¯ä¸€ç±»ä¸œè¥¿ã€‚**

æ‰€ä»¥å¹¶ä¸æ˜¯â€œè¿è¾“é¡¹æ¶ˆå¤±äº†å¯¼è‡´æ¼æ‰äº†æŸä¸ªç‰©ç†â€ï¼Œè€Œæ˜¯ï¼š

- **è¿è¾“é¡¹æè¿°çš„æ˜¯å‚è€ƒè§’é€Ÿåº¦æ¬è¿åçš„åˆ†é‡å˜åŒ–**
- å½“å‚è€ƒè§’é€Ÿåº¦å°±æ˜¯ 0ï¼Œè¿™éƒ¨åˆ†ç‰©ç†å°±ä¸å­˜åœ¨
- æœºä½“è‡ªèº«çš„è½¬åŠ¨æ•ˆåº”ç”± ($e_\omega=\omega$) å’ŒåŠ¨åŠ›å­¦è€¦åˆé¡¹ ($\omega\times(I\omega)$) å»è´Ÿè´£

> **æœºä½“åœ¨è½¬**è¿™ä»¶äº‹ç”± ($\omega$) è¡¨ç¤ºï¼Œå¹¶é€šè¿‡ ($-k_\omega\omega$)ï¼ˆåˆ¹è½¦ï¼‰å’Œ ($\omega\times(I\omega)$)ï¼ˆé™€èºè€¦åˆï¼‰ä½“ç°ï¼›
> **è¿è¾“é¡¹**ä¸æ˜¯â€œæœºä½“åœ¨è½¬å°±ä¼šæœ‰â€ï¼Œè€Œæ˜¯â€œæœºä½“åœ¨è½¬ + ä½ åœ¨æœºä½“ç³»é‡Œè§‚å¯Ÿä¸€ä¸ªéé›¶çš„å‚è€ƒè§’é€Ÿåº¦å‘é‡â€æ‰ä¼šå‡ºç°ï¼›å½“ ($\omega_d=0$) æ—¶å‚è€ƒå‘é‡ä¸ºé›¶ï¼Œæ‰€ä»¥è¿è¾“é¡¹ä¸ºé›¶ã€‚

**æƒ…æ™¯ Aï¼šå®šç‚¹å§¿æ€ç¨³å®šï¼ˆ(\omega_d=0)ï¼‰**

ä½ çš„ç›®æ ‡ï¼šæœ€ååœä½ï¼Œä¸è¦å†è½¬ã€‚å‚è€ƒè§’é€Ÿåº¦ç®­å¤´ = 0ã€‚
ä½ åªéœ€è¦ï¼š

- æŠŠå§¿æ€æ‹‰å›å»ï¼ˆ($-k_R e_R$)ï¼‰
- æŠŠè½¬åŠ¨åˆ¹ä½ï¼ˆ$(-k_\omega\omega)$ï¼‰
- æŠµæ¶ˆé™€èºè€¦åˆï¼ˆ$(+\omega\times(I\omega))$ï¼‰

**æ²¡æœ‰â€œè¿½ç€ä¸€ä¸ªä¼šåŠ¨çš„å‚è€ƒè§’é€Ÿåº¦ç®­å¤´è·‘â€ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å‚è€ƒå‘é‡åœ¨æœºä½“ç³»é‡Œçš„â€œè¡¨è§‚å˜åŒ–â€â€”â€”è¿è¾“é¡¹è‡ªç„¶ä¸º 0ã€‚**

**æƒ…æ™¯ Bï¼šè½¨è¿¹è·Ÿè¸ªï¼ˆ$(\omega_d(t)\neq 0)$ï¼‰**

ä½ çš„ç›®æ ‡ï¼šä¸ä»…å§¿æ€è¦å¯¹ï¼Œè¿˜è¦ä»¥æŸä¸ªè§’é€Ÿåº¦è§„å¾‹è½¬ï¼ˆæ¯”å¦‚æŒç»­ yaw è½¬å‘ã€æˆ–åšæ»šè½¬æœºåŠ¨ï¼‰ã€‚æ­¤æ—¶å‚è€ƒè§’é€Ÿåº¦ç®­å¤´æ˜¯**éé›¶**çš„ã€‚
ä½ åœ¨å½“å‰æœºä½“ç³»é‡Œæ‹¿åˆ° ($R^TR_d\omega_d)$ è¿™æ ¹ç®­å¤´ï¼Œç„¶ååšå·®ï¼š
$$
e_\omega = \omega - (R^TR_d\omega_d)
$$
ä½†æ³¨æ„ï¼šä½ æœºä½“ç³»åœ¨è½¬ï¼Œæ‰€ä»¥ä½ åœ¨æœºä½“ç³»é‡Œè§‚å¯Ÿåˆ°çš„â€œè¿™æ ¹å‚è€ƒç®­å¤´â€çš„åˆ†é‡ä¼šäº§ç”Ÿé¢å¤–å˜åŒ–ï¼ˆå“ªæ€•å‚è€ƒåœ¨æƒ¯æ€§é‡Œå˜åŒ–å¾ˆç®€å•ï¼‰ã€‚è¿™ä¸ªâ€œé¢å¤–å˜åŒ–â€åœ¨æ•°å­¦ä¸Šå°±è¡¨ç°ä¸ºï¼š
$$
\omega\times(R^TR_d\omega_d)
$$
è¿™å°±æ˜¯è¿è¾“é¡¹çš„ç‰©ç†å«ä¹‰ï¼š**â€œä½ åœ¨æ—‹è½¬åæ ‡é‡Œè¿½ä¸€ä¸ªéé›¶å‚è€ƒå‘é‡æ—¶ï¼Œåæ ‡æ—‹è½¬ä¼šè®©å®ƒçš„åˆ†é‡çœ‹èµ·æ¥é¢å¤–åœ¨å˜ã€‚â€**

## Trace Error

åœ¨å‡ ä½•æ§åˆ¶ï¼ˆGeometric Controlï¼‰é‡Œï¼Œ**Trace è¯¯å·®**æ‰®æ¼”ç€**â€œè£åˆ¤å‘˜â€**çš„è§’è‰²ã€‚

æˆ‘ä»¬ä¹‹å‰è®²çš„ $e_R$ï¼ˆè¯¯å·®å‘é‡ï¼‰æ˜¯ç»™ç”µæœºç”¨çš„ï¼Œå‘Šè¯‰ç”µæœºâ€œå¾€å“ªè¾¹ç”¨åŠ›â€ã€‚è€Œ Trace è¯¯å·®ï¼ˆæ ‡é‡å‡½æ•°ï¼‰æ˜¯ç»™æ•°å­¦å®¶å’Œå·¥ç¨‹å¸ˆåˆ†æç”¨çš„ï¼Œå‘Šè¯‰æˆ‘ä»¬**â€œç°åœ¨çš„æ€»è¯¯å·®åˆ°åº•æœ‰å¤šå¤§â€**ã€‚

------

### 1. ä»€ä¹ˆæ˜¯ Traceï¼ˆè¿¹ï¼‰ï¼Ÿ

**å®šä¹‰éå¸¸ç®€å•**ï¼šä¸€ä¸ª $N \times N$ çŸ©é˜µçš„ **Traceï¼ˆè¿¹ï¼‰**ï¼Œå°±æ˜¯å®ƒ**ä¸»å¯¹è§’çº¿ä¸Šæ‰€æœ‰å…ƒç´ çš„å’Œ**ã€‚
$$
A = \begin{bmatrix} \mathbf{a} & b & c \\ d & \mathbf{e} & f \\ g & h & \mathbf{i} \end{bmatrix}\\
\text{tr}(A) = a + e + i
$$
ç‰©ç†ç›´è§‰ï¼š

å¯¹äºæ—‹è½¬çŸ©é˜µ $R$ï¼Œè¿¹æœ‰ä¸€ä¸ªæƒŠäººçš„å‡ ä½•æ€§è´¨ï¼ˆè¿™æ˜¯ä½ å¿…é¡»è®°ä½çš„ï¼‰ï¼š
$$
\text{tr}(R) = 1 + 2\cos\theta
$$

- è¿™é‡Œçš„ $\theta$ å°±æ˜¯æˆ‘ä»¬åœ¨ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼é‡Œè¯´çš„é‚£ä¸ª**æ—‹è½¬è§’åº¦**ï¼ˆRotation Angleï¼‰ã€‚
- ä¸ç®¡è½¬è½´ $u$ æŒ‡å‘å“ªé‡Œï¼Œåªè¦è½¬çš„è§’åº¦æ˜¯ $\theta$ï¼ŒçŸ©é˜µå¯¹è§’çº¿ä¹‹å’Œä¸€å®šæ˜¯ $1+2\cos\theta$ã€‚

æ•°å­¦å®¶è¯æ˜è¿™ä¸ªå…¬å¼çš„æ–¹æ³•é€šå¸¸æ˜¯ï¼š

> â€œæ—‹è½¬çŸ©é˜µçš„ç‰¹å¾å€¼æ˜¯ $1, e^{i\theta}, e^{-i\theta}$ã€‚è¿¹ç­‰äºç‰¹å¾å€¼ä¹‹å’Œï¼Œå³ $1 + e^{i\theta} + e^{-i\theta} = 1 + 2\cos\theta$ã€‚â€

**ä½œä¸º GNC å·¥ç¨‹å¸ˆï¼Œä½ å¯ä»¥å®Œå…¨æŠŠä¸Šé¢è¿™å¥è¯å¿˜æ‰ã€‚** ä¸éœ€è¦å»æå¤æ•°åŸŸçš„ç‰¹å¾å€¼ï¼Œé‚£å¯¹å†™é£æ§ä»£ç æ²¡å¸®åŠ©ã€‚

ä½ è¦åˆ©ç”¨çº¿æ€§ä»£æ•°é‡Œçš„ä¸€ä¸ª**ç¥çº§æ€§è´¨**ï¼š

> Traceï¼ˆè¿¹ï¼‰æ˜¯ä¸å˜é‡ã€‚æ„æ€å°±æ˜¯ï¼šä¸ç®¡ä½ é€‰ä»€ä¹ˆåæ ‡ç³»æ¥æè¿°è¿™ä¸ªæ—‹è½¬ï¼Œåªè¦è½¬çš„è§’åº¦æ˜¯ $\theta$ï¼ŒçŸ©é˜µçš„è¿¹æ°¸è¿œä¸å˜ã€‚

æ—¢ç„¶ä¸ç®¡é€‰ä»€ä¹ˆåæ ‡ç³»éƒ½ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸é€‰ä¸€ä¸ª**æœ€ç®€å•ã€æœ€å¼±æ™º**çš„åæ ‡ç³»æ¥ç®—å‘¢ï¼Ÿå‡è®¾é£æœºçš„è½¬è½´ $u$ åˆšå¥½å°±æ˜¯ Z è½´ã€‚

è¿™æ—¶å€™ï¼Œç»• Z è½´æ—‹è½¬ $\theta$ çš„çŸ©é˜µ $R_z$ é•¿ä»€ä¹ˆæ ·ï¼Ÿè¿™å¯æ˜¯åŸºæœ¬åŠŸï¼Œå¿…é¡»ä¼šèƒŒï¼š
$$
R_z(\theta) = \begin{bmatrix} \cos\theta & -\sin\theta & 0 \\ \sin\theta & \cos\theta & 0 \\ 0 & 0 & \mathbf{1} \end{bmatrix}\\
\text{tr}(R_z) = \text{å¯¹è§’çº¿ç›¸åŠ }\\

= \cos\theta + \cos\theta + 1\\

= 2\cos\theta + 1\\
$$

- å‰ä¸¤è¡Œä¸¤åˆ—æ˜¯å¹³é¢æ—‹è½¬ã€‚
- **é‚£ä¸ª $1$ æ˜¯é‡ç‚¹**ï¼šå› ä¸ºç»• Z è½´è½¬ï¼ŒZ è½´è‡ªå·±æ˜¯ä¸åŠ¨çš„ï¼Œæ‰€ä»¥ Z è½´çš„æŠ•å½±æ˜¯ $1$ã€‚

å› ä¸ºâ€œTrace æ˜¯ä¸å˜é‡â€ï¼Œæ‰€ä»¥ï¼š

å“ªæ€•ä½ çš„è½¬è½´ä¸æ˜¯ Z è½´ï¼Œè€Œæ˜¯æ–œç€æŒ‡å‘ä¸Šæ–¹ $[0.1, 0.5, 0.8]$ çš„å¥‡æ€ªè½´ï¼Œåªè¦æ—‹è½¬è§’åº¦è¿˜æ˜¯ $\theta$ï¼Œå®ƒçš„ Trace å°±ä¸€å®šè¿˜æ˜¯ $1 + 2\cos\theta$ã€‚

------

### 2. ä»€ä¹ˆæ˜¯ Trace Errorï¼ˆè¯¯å·®å‡½æ•°ï¼‰ï¼Ÿ

åœ¨å‡ ä½•æ§åˆ¶çš„è®ºæ–‡ï¼ˆæ¯”å¦‚ Taeyoung Lee çš„ç»å…¸è®ºæ–‡ï¼‰é‡Œï¼Œå®šä¹‰äº†ä¸€ä¸ª**å§¿æ€è¯¯å·®å‡½æ•°ï¼ˆConfiguration Error Functionï¼‰**ï¼Œé€šå¸¸è®°ä½œ $\Psi$ï¼š
$$
\Psi = \frac{1}{2} \text{tr}(I - R_d^T R)
$$
è¿™ä¸ªå…¬å¼å°±æ˜¯æ‰€è°“çš„ **Trace Error**ã€‚æˆ‘ä»¬æ¥ç¿»è¯‘ä¸€ä¸‹å®ƒåœ¨å¹²ä»€ä¹ˆã€‚

#### ç¬¬ä¸€æ­¥ï¼šç®—â€œç›¸å¯¹è¯¯å·®çŸ©é˜µâ€

$$
\tilde{R} = R_d^T R
$$

æˆ‘ä»¬åœ¨ä¹‹å‰çš„å›ç­”é‡Œè®²è¿‡ï¼Œ$\tilde{R}$ æè¿°äº†â€œå½“å‰å§¿æ€â€å’Œâ€œæœŸæœ›å§¿æ€â€ä¹‹é—´çš„åå·®ã€‚

- å¦‚æœå®Œå…¨é‡åˆï¼ˆæ— è¯¯å·®ï¼‰ï¼š$\tilde{R} = I$ï¼ˆå•ä½é˜µï¼‰ã€‚
- å¦‚æœæœ‰è¯¯å·®ï¼š$\tilde{R}$ æ˜¯ä¸€ä¸ªç»•æŸè½´è½¬äº† $\theta$ è§’çš„çŸ©é˜µã€‚

#### ç¬¬äºŒæ­¥ï¼šå’Œâ€œå®Œç¾â€åšæ¯”è¾ƒ ($I - \tilde{R}$)

æˆ‘ä»¬å¸Œæœ› $\tilde{R}$ æ˜¯ $I$ã€‚$I$ çš„è¿¹æ˜¯å¤šå°‘ï¼Ÿ
$$
I = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} \implies \text{tr}(I) = 1+1+1 = \mathbf{3}
$$
æ‰€ä»¥ï¼Œ**å®Œç¾çš„æ»¡åˆ†æ˜¯ 3 åˆ†**ã€‚

#### ç¬¬ä¸‰æ­¥ï¼šæ„é€ â€œæ‰£åˆ†é¡¹â€

æˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªâ€œè¯¯å·®â€ï¼Œè¯¯å·®å°±æ˜¯ **â€œæ»¡åˆ† - å½“å‰å¾—åˆ†â€**ã€‚
$$
\text{Error} \propto \text{tr}(I) - \text{tr}(\tilde{R})\\

= 3 - (1 + 2\cos\theta)\\

= 2 - 2\cos\theta\\

= 2(1 - \cos\theta)
$$
çœ‹ï¼ç»“æœå‡ºæ¥äº†ï¼š**Trace Error æœ¬è´¨ä¸Šå°±æ˜¯ $1 - \cos\theta$ã€‚**

------

### 3. ç‰©ç†å›¾åƒ

æˆ‘ä»¬æŠŠ $\Psi = (1 - \cos\theta)$ ç”»å‡ºæ¥ã€‚

- **å½“ $\theta = 0$ï¼ˆæ— è¯¯å·®ï¼‰**ï¼š$\cos(0)=1$ï¼Œ$\Psi = 1-1 = 0$ã€‚**è¯¯å·®ä¸º0ï¼Œèƒ½é‡æœ€ä½ã€‚**
- **å½“ $\theta$ å¾ˆå°ï¼ˆå°è¯¯å·®ï¼‰**ï¼š$\cos\theta \approx 1$ã€‚è¯¯å·®å¾ˆå°ï¼Œæ…¢æ…¢å¢åŠ ã€‚
- **å½“ $\theta = 180^\circ$ï¼ˆæœ€å¤§è¯¯å·®ï¼Œå€’æ‰£ï¼‰**ï¼š$\cos(180) = -1$ï¼Œ$\Psi = 1 - (-1) = 2$ã€‚**è¯¯å·®æœ€å¤§ï¼Œèƒ½é‡æœ€é«˜ã€‚**

è¿™å°±è§£é‡Šäº† Trace Error çš„ç‰©ç†æ„ä¹‰ï¼šå®ƒå°±æ˜¯é£æœºçš„â€œå§¿æ€åŠ¿èƒ½â€ã€‚ä½ å¯ä»¥æŠŠ $\Psi$ æƒ³è±¡æˆä¸€ä¸ªç¢—çš„å½¢çŠ¶ã€‚

- æœŸæœ›å§¿æ€ ($R_d$) åœ¨ç¢—åº•ã€‚
- å½“å‰å§¿æ€ ($R$) æ˜¯ä¸€é¢—ç»ç’ƒç ã€‚
- **Trace Error ($\Psi$)** å°±æ˜¯ç»ç’ƒç è·ç¦»ç¢—åº•çš„**é«˜åº¦**ã€‚

GNC å·¥ç¨‹å¸ˆè®¾è®¡æ§åˆ¶å¾‹çš„ç›®çš„ï¼Œå°±æ˜¯è®©è¿™ä¸ªé«˜åº¦ $\Psi$ ä¸æ–­å‡å°ï¼Œç›´åˆ°å˜æˆ 0ï¼ˆç å­æ»šå›ç¢—åº•ï¼‰ã€‚

------

### 4. Trace Error vs. $e_R$ï¼šå®ƒä»¬æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ

ä½ å¯èƒ½ä¼šæ™•ï¼š*â€œæˆ‘æœ‰ $e_R$ å‘é‡äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿™ä¸ª $\Psi$ï¼Ÿâ€*å®ƒä»¬æ˜¯æè¿°åŒä¸€ä¸ªäº‹ç‰©çš„ä¸¤é¢ï¼š

- **$e_R$ (è¯¯å·®å‘é‡)**ï¼šæ˜¯åŠ¿èƒ½å‡½æ•°çš„**â€œå¡åº¦â€ (Gradient)**ã€‚
  - å®ƒå‘Šè¯‰ç”µæœºï¼š**â€œå¾€å“ªè¾¹æ»šâ€**èƒ½ä¸‹å±±ã€‚
  - å®ƒæ˜¯**çŸ¢é‡**ï¼ˆæœ‰æ–¹å‘ï¼‰ã€‚
- **Trace Error $\Psi$ (åŠ¿èƒ½å‡½æ•°)**ï¼šæ˜¯åŠ¿èƒ½å‡½æ•°çš„**â€œé«˜åº¦â€ (Value)**ã€‚
  - å®ƒå‘Šè¯‰æ•°å­¦å®¶ï¼š**â€œç¦»å±±åº•è¿˜æœ‰å¤šé«˜â€**ã€‚
  - å®ƒæ˜¯**æ ‡é‡**ï¼ˆåªæ˜¯ä¸€ä¸ªæ•°ï¼‰ã€‚

å¦‚æœä¸ä¸¥è°¨åœ°å†™ï¼ŒåŠ›çŸ© $\tau \propto e_R$ï¼Œå…¶å®å°±æ˜¯ï¼š
$$
e_R \approx \frac{\partial \Psi}{\partial R}
$$
(åŠ› = åŠ¿èƒ½çš„å¯¼æ•°/æ¢¯åº¦)ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ç”¨çš„ $e_R$ æ§åˆ¶å¾‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ²¿ç€ Trace Error è¿™ä¸ªâ€œç¢—â€çš„å£å¾€ä¸‹æ»šï¼ˆæ¢¯åº¦ä¸‹é™ï¼‰ã€‚

### 5.è½´è§’æ˜ å°„

ä¼ æ„Ÿå™¨ç›´æ¥ç»™ä½ æ‰”è¿‡æ¥ä¸€ä¸ª $3\times3$ çš„æ—‹è½¬çŸ©é˜µ $R$ï¼Œé—®ä½ ï¼šâ€œæˆ‘ç°åœ¨åˆ°åº•è½¬äº†å¤šå°‘åº¦ï¼Ÿâ€ä½ ä¸å¯èƒ½è‚‰çœ¼çœ‹çŸ©é˜µçœ‹å‡ºè§’åº¦ï¼Œä½ å¿…é¡»ç”¨è¿™ä¸ªå…¬å¼åæ±‚ $\theta$ï¼š
$$
\text{tr}(R) = 1 + 2\cos\theta\\

\implies 2\cos\theta = \text{tr}(R) - 1\\

\implies \cos\theta = \frac{\text{tr}(R) - 1}{2}\\

\implies \theta = \arccos\left( \frac{\text{tr}(R) - 1}{2} \right)\\
$$
è¦æ‰¾åˆ°è½´ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°çŸ©é˜µçš„**å¦ä¸€åŠä¿¡æ¯**â€”â€”**åå¯¹ç§°éƒ¨åˆ†ï¼ˆSkew-symmetric partï¼‰**ã€‚

è¿˜è®°å¾—ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼å—ï¼Ÿ
$$
R = \underbrace{I + (1-\cos\theta)\hat{u}^2}_{\text{å¯¹ç§°éƒ¨åˆ†}} + \underbrace{\sin\theta \cdot \hat{u}}_{\text{åå¯¹ç§°éƒ¨åˆ†}}
$$
æˆ‘ä»¬è¦æŠŠè—åœ¨é‡Œé¢çš„è½´ $u$ æŠ å‡ºæ¥ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ª**â€œç…§å¦–é•œâ€**æ“ä½œï¼š**$R - R^T$**ã€‚
$$
R - R^T = 2\sin\theta \cdot \hat{u}
$$
å¤æ‚çš„å¯¹ç§°é¡¹å…¨éƒ¨æŠµæ¶ˆäº†ï¼Œåªå‰©ä¸‹äº†å¸¦ç€è½´ä¿¡æ¯çš„ $\hat{u}$ã€‚æ ¹æ®å…¬å¼ $R - R^T = 2\sin\theta \cdot \hat{u}$ï¼Œæˆ‘ä»¬å¯ä»¥åæ¨ $\hat{u}$ï¼š
$$
\hat{u} = \frac{R - R^T}{2\sin\theta}
$$
æŠŠçŸ©é˜µå˜æˆå‘é‡ï¼ˆç”¨ Vee ç®—å­ $\vee$ï¼‰ï¼š
$$
u = \frac{(R - R^T)^\vee}{2\sin\theta}
$$
è¿™å°±æ˜¯ä½ è¦çš„è½´ï¼å®ƒå°±è—åœ¨ $R$ å’Œ $R^T$ çš„å·®å€¼é‡Œã€‚**è¿™å°±æ˜¯æŠŠæ—‹è½¬çŸ©é˜µè½¬å›è½´è§’ï¼ˆAxis-Angleï¼‰çš„æ ¸å¿ƒç®—æ³•ï¼ˆå¯¹æ•°æ˜ å°„ Log mapï¼‰ã€‚** 

---


## è½åœ°å®ç°

æ‰€æœ‰çš„è®¡ç®—ï¼Œæœ€ç»ˆéƒ½æ˜¯ä¸ºäº†ç®—å‡º **Step C** çš„é‚£ä¸ª $\tau$ï¼ˆåŠ›çŸ©ï¼‰ã€‚

- **è¾“å…¥**ï¼šä¼ æ„Ÿå™¨ç»™ä½ çš„ï¼ˆå½“å‰å§¿æ€ $R$ï¼Œå½“å‰è§’é€Ÿåº¦ $\omega$ï¼‰ + ä¸Šå±‚ç®—æ³•ç»™ä½ çš„ï¼ˆæœŸæœ›å§¿æ€ $R_d$ï¼ŒæœŸæœ›è§’é€Ÿåº¦ $\omega_d$ï¼‰ã€‚
- **è¾“å‡º**ï¼šç»™ç”µæœºçš„æŒ‡ä»¤ï¼ˆåŠ›çŸ© $\tau$ï¼‰ã€‚

------

### Step Aï¼šç®—å§¿æ€è¯¯å·® $e_R$ 

è¿™ä¸€æ­¥çš„ç›®æ ‡æ˜¯ï¼š**æŠŠä¸¤ä¸ª $3\times3$ çš„çŸ©é˜µï¼ˆ$R$ å’Œ $R_d$ï¼‰ä¹‹é—´çš„å·®å¼‚ï¼Œå‹ç¼©æˆä¸€ä¸ª $3\times1$ çš„å‘é‡ï¼ˆ$e_R$ï¼‰ã€‚**
$$
1.\tilde{R} = R_d^T R
$$

- **ç¬¦å·å«ä¹‰**ï¼š

  - $R$ï¼š**å½“å‰**é£æœºçš„å§¿æ€ï¼ˆBody Frameç›¸å¯¹äºWorld Frameï¼‰ã€‚
  - $R_d$ï¼š**æœŸæœ›**é£æœºçš„å§¿æ€ï¼ˆGhost Frameç›¸å¯¹äºWorld Frameï¼‰ã€‚
  - $^T$ï¼šçŸ©é˜µè½¬ç½®ã€‚å¯¹äºæ—‹è½¬çŸ©é˜µï¼Œ**è½¬ç½® = é€†çŸ©é˜µ ($R^{-1}$)**ã€‚

  - $\tilde{R}$ (è¯»ä½œ R-tilde) ä»£è¡¨äº†**â€œè¯¯å·®æ—‹è½¬çŸ©é˜µâ€**ã€‚å®ƒæè¿°äº†ï¼š**â€œæˆ‘è¦ä»æœŸæœ›å§¿æ€è½¬å¤šå°‘åº¦ã€ç»•å“ªæ ¹è½´ï¼Œæ‰èƒ½å˜æˆå½“å‰å§¿æ€ï¼Ÿâ€**

  - **å·¥ç¨‹å¸ˆé¡»çŸ¥**ï¼š$R_d^T R$ å°±æ˜¯åœ¨ç®—â€œç›¸å¯¹æ—‹è½¬â€ã€‚è¿™å°±å¥½æ¯”æ ‡é‡é‡Œçš„ $x - x_d$ã€‚
  - **æ•°å­¦å®¶æ¨å¯¼ï¼ˆä¸éœ€è¦æ·±ç©¶ï¼‰**ï¼šä¸ºä»€ä¹ˆæ˜¯å·¦ä¹˜ $R_d^T$ è¿˜æ˜¯å³ä¹˜ï¼Ÿè¿™æ¶‰åŠåˆ°æç¾¤çš„å·¦ä¸å˜æ€§/å³ä¸å˜æ€§ã€‚ä½ åªè¦è®°ä½ï¼š**é€šå¸¸æŠŠæœŸæœ›çŸ©é˜µè½¬ç½®åä¹˜åœ¨å·¦è¾¹**ï¼Œè¿™æ ·å¾—åˆ°çš„è¯¯å·®æ˜¯å®šä¹‰åœ¨**æœŸæœ›åæ ‡ç³»ï¼ˆBody Frameï¼‰**ä¸‹çš„ã€‚è¿™å°±å¤Ÿäº†ã€‚

$$
2.S = \tilde{R} - \tilde{R}^T
$$

- **ç¬¦å·å«ä¹‰**ï¼š

  - $S$ï¼šSkew-symmetric matrixï¼ˆåå¯¹ç§°çŸ©é˜µï¼‰ã€‚

  - $\tilde{R}$ é‡Œé¢æ··æ‚äº† $\cos\theta$ï¼ˆæ²¡ç”¨çš„å¯¹ç§°é¡¹ï¼‰å’Œ $\sin\theta \cdot \hat{u}$ï¼ˆæœ‰ç”¨çš„åå¯¹ç§°é¡¹ï¼‰ã€‚$\tilde{R} - \tilde{R}^T$ è¿™ä¸ªæ“ä½œï¼ŒåƒæŠŠæ‰‹æœ¯åˆ€ï¼Œç›´æ¥**åˆ‡æ‰**äº†æ‰€æœ‰çš„å¯¹ç§°æ‚è´¨ï¼Œåªç•™ä¸‹äº†çº¯ç²¹çš„ã€åŒ…å«æ—‹è½¬è½´å’Œæ—‹è½¬è§’æ­£å¼¦å€¼çš„åå¯¹ç§°éƒ¨åˆ†ã€‚

$$
3.e_R = \frac{1}{2} S^\vee
$$

- **ç¬¦å·å«ä¹‰**ï¼š

  - $^\vee$ (Vee map)ï¼š**Vee ç®—å­**ã€‚å®ƒæ˜¯ Hat ç®—å­ ($\hat{\cdot}$) çš„é€†è¿ç®—ã€‚
    - Hat æŠŠå‘é‡å˜æˆçŸ©é˜µï¼š$[x, y, z]^T \to 3\times3$ã€‚
    - Vee æŠŠçŸ©é˜µè¿˜åŸå›å‘é‡ï¼š$3\times3 \to [x, y, z]^T$ã€‚
  - $\frac{1}{2}$ï¼šå½’ä¸€åŒ–ç³»æ•°ã€‚

  - $S$ æ˜¯ä¸€ä¸ª $3\times3$ çš„çŸ©é˜µï¼Œé•¿è¿™æ ·ï¼š
    $$
    \begin{bmatrix} 0 & -2z & 2y \\ 2z & 0 & -2x \\ -2y & 2x & 0 \end{bmatrix}
    $$
    (é‡Œé¢çš„ 2 æ¥è‡ªäº $\tilde{R}$ å’Œ $-\tilde{R}^T$ çš„å åŠ )

  - $S^\vee$ å°±æ˜¯æŠŠé‡Œé¢çš„ $2x, 2y, 2z$ æŠ å‡ºæ¥ï¼Œå˜æˆå‘é‡ $[2x, 2y, 2z]^T$ã€‚ä¹˜ä¸Š $\frac{1}{2}$ï¼Œå°±æ˜¯ä¸ºäº†æŠŠé‚£ä¸ª 2 æ¶ˆæ‰ï¼Œå¾—åˆ°çº¯å‡€çš„è¯¯å·®å‘é‡ $e_R$ã€‚

  - è¿™ä¸ª $e_R$ å°±æ˜¯**å§¿æ€è¯¯å·®å‘é‡**ã€‚
  - **å®ƒçš„æ–¹å‘**ï¼šå‘Šè¯‰ä½ è¯¥ç»•å“ªæ ¹è½´è½¬æ‰èƒ½å›æ­£ã€‚
  - **å®ƒçš„é•¿åº¦**ï¼šå‘Šè¯‰ä½ åç¦»äº†å¤šå°‘åº¦ï¼ˆåœ¨å°è§’åº¦ä¸‹ï¼Œé•¿åº¦ $\approx \theta$ï¼›å¤§è§’åº¦ä¸‹ï¼Œé•¿åº¦ $= \sin\theta$ï¼‰ã€‚

------

### Step Bï¼šç®—è§’é€Ÿåº¦è¯¯å·® $e_\omega$ 

$$
e_\omega = \omega - R^T R_d \omega_d
$$

- $\omega$

  - **æ¥æº**ï¼šä½ çš„**é™€èºä»ª**ç›´æ¥æµ‹å‡ºæ¥çš„ã€‚

  - **åæ ‡ç³»**ï¼š**æœºä½“åæ ‡ç³» (Body Frame)**ã€‚è¿™éå¸¸é‡è¦ï¼é™€èºä»ªç»‘åœ¨é£æœºä¸Šï¼Œå®ƒæµ‹çš„æ˜¯é£æœºç›¸å¯¹äºè‡ªå·±çš„è½¬é€Ÿã€‚

- $\omega_d$

  - **æ¥æº**ï¼šä¸Šå±‚è½¨è¿¹è§„åˆ’ç®—æ³•ç»™å‡ºçš„â€œå¹½çµé£æœºâ€çš„è½¬é€Ÿã€‚

  - **åæ ‡ç³»**ï¼šé€šå¸¸å®šä¹‰åœ¨**æœŸæœ›æœºä½“åæ ‡ç³» (Desired Frame)** ä¸‹ã€‚

**åæ ‡å˜æ¢å…¨è¿‡ç¨‹**ï¼š

1. **$R_d \omega_d$**ï¼šæŠŠ $\omega_d$ ä»â€œæœŸæœ›æœºä½“ç³»â€æ—‹è½¬åˆ° **â€œä¸–ç•Œåæ ‡ç³»â€**ã€‚
2. **$R^T (R_d \omega_d)$**ï¼šå†æŠŠè¿™ä¸ªä¸–ç•Œç³»ä¸‹çš„å‘é‡ï¼Œä¹˜ä¸Š $R^T$ï¼ˆä¹Ÿå°±æ˜¯ $R^{-1}$ï¼‰ï¼ŒæŠŠå®ƒæ—‹è½¬å› **â€œå½“å‰æœºä½“ç³»â€**ã€‚

ç‰©ç†æ„ä¹‰ï¼š

è¿™ä¸€é¡¹ $R^T R_d \omega_d$ çš„æ„æ€æ˜¯ï¼šâ€œæŠŠæœŸæœ›çš„è§’é€Ÿåº¦ï¼ŒæŠ•å½±åˆ°æˆ‘ç°åœ¨æ­ªæ­ªæ‰­æ‰­çš„æœºèº«åæ ‡ç³»ä¸‹ï¼Œå®ƒåˆ†é‡åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿâ€åªæœ‰è¿™æ ·ï¼Œæ‰èƒ½å’Œé™€èºä»ªæµ‹å‡ºæ¥çš„ $\omega$ è¿›è¡Œç›¸å‡ã€‚

- **$e_\omega$**ï¼šæœ€ç»ˆå¾—åˆ°çš„ï¼Œæ˜¯åœ¨**å½“å‰æœºä½“åæ ‡ç³»**ä¸‹çš„è§’é€Ÿåº¦è¯¯å·®ã€‚

------

### Step Cï¼šè¾“å‡ºåŠ›çŸ© $\tau$ 

$$
\tau = -k_R e_R - k_\omega e_\omega + \omega \times (I\omega)
$$

è¿™æ˜¯æ§åˆ¶å™¨çš„æœ€ç»ˆè¾“å‡ºï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š
$$
1.-k_R e_R (Pé¡¹ - å¼¹ç°§)
$$

- **$k_R$**ï¼šåˆšåº¦ç³»æ•°ï¼ˆä½ è‡ªå·±è°ƒçš„å‚ï¼‰ã€‚
- **ä½œç”¨**ï¼šåƒä¸€æ ¹**å¼¹ç°§**ã€‚$e_R$ è¶Šå¤§ï¼ˆåå¾—è¶Šå‰å®³ï¼‰ï¼ŒåŠ›çŸ©è¶Šå¤§ï¼Œè¯•å›¾æŠŠé£æœºæ‹‰å› $R_d$ã€‚
- **è´Ÿå·**ï¼šè´Ÿåé¦ˆã€‚è¯¯å·®æ˜¯æ­£ï¼ŒåŠ›çŸ©å°±è¦æ˜¯è´Ÿï¼Œå¯¹ç€å¹²ã€‚

$$
2.-k_\omega e_\omega (Dé¡¹ - é˜»å°¼)
$$

- **$k_\omega$**ï¼šé˜»å°¼ç³»æ•°ã€‚
- **ä½œç”¨**ï¼šåƒç©ºæ°”**é˜»åŠ›**ã€‚$e_\omega$ è¶Šå¤§ï¼ˆè½¬å¾—è¶Šå¿«ï¼‰ï¼Œåå‘åŠ›çŸ©è¶Šå¤§ï¼Œè¯•å›¾è®©è¯¯å·®è½¬é€Ÿå½’é›¶ã€‚é˜²æ­¢é£æœºåƒå¼¹ç°§ä¸€æ ·éœ‡è¡ã€‚

$$
3.+\omega \times (I\omega) (å‰é¦ˆé¡¹ - æ¶ˆé™¤éçº¿æ€§)
$$

æ˜¯å‡ ä½•æ§åˆ¶åŒºåˆ«äºç®€å• PID çš„æ ‡å¿—ã€‚

- **ç¬¦å·å«ä¹‰**ï¼š
  - **$I$**ï¼š**æƒ¯æ€§å¼ é‡çŸ©é˜µ (Inertia Matrix)**ã€‚é€šå¸¸è®°ä½œ $J$ã€‚è¿™æ˜¯ä¸€ä¸ª $3\times3$ çš„å¸¸æ•°çŸ©é˜µï¼Œæè¿°äº†é£æœºè´¨é‡åˆ†å¸ƒï¼ˆæ¯”å¦‚ç¿…è†€é‡è¿˜æ˜¯æœºå¤´é‡ï¼‰ã€‚**æ³¨æ„ï¼šè¿™é‡Œç»å¯¹ä¸æ˜¯å•ä½çŸ©é˜µ Identity Matrixï¼**
  - $\times$ï¼šå‘é‡å‰ä¹˜ã€‚
- **ç‰©ç†æ¥æºï¼ˆæ¬§æ‹‰åŠ¨åŠ›å­¦æ–¹ç¨‹ï¼‰**ï¼š
  - åˆšä½“æ—‹è½¬çš„ç‰›é¡¿ç¬¬äºŒå®šå¾‹ä¸æ˜¯ $F=ma$ï¼Œè€Œæ˜¯ $\tau = I\dot{\omega} + \omega \times (I\omega)$ã€‚
  - é‚£ä¸ª $\omega \times (I\omega)$ æ˜¯**é™€èºåŠ›çŸ©**ã€‚å½“ä½ é«˜é€Ÿæ—‹è½¬ä¸€ä¸ªä¸è§„åˆ™ç‰©ä½“æ—¶ï¼Œå®ƒä¼šè‡ªå·±äº§ç”Ÿä¸€ä¸ªå¥‡æ€ªçš„åè½¬åŠ›çŸ©ã€‚
- **ä¸ºä»€ä¹ˆè¦åŠ ä¸Šå®ƒï¼Ÿ**
  - è¿™ä¸ªæ“ä½œå«**åé¦ˆçº¿æ€§åŒ– (Feedback Linearization)** æˆ– **å‰é¦ˆæŠµæ¶ˆ**ã€‚
  - æ§åˆ¶å™¨çš„é€»è¾‘æ˜¯ï¼šâ€œæˆ‘çŸ¥é“é£æœºä¸€è½¬èµ·æ¥å°±ä¼šäº§ç”Ÿè¿™ä¸ªè®¨åŒçš„é™€èºåŠ›çŸ©ï¼Œå®ƒä¼šå¹²æ‰°æˆ‘çš„ PID æ§åˆ¶ã€‚æ‰€ä»¥ï¼Œæˆ‘ç›´æ¥åœ¨è¾“å‡ºé‡Œ**åŠ ä¸Š**è¿™ä¸€é¡¹ã€‚â€
  - **æ•ˆæœ**ï¼šç”µæœºè¾“å‡ºçš„åŠ›çŸ©é‡ŒåŒ…å«äº†è¿™ä¸€é¡¹ï¼Œåˆšå¥½å’Œç‰©ç†ä¸Šäº§ç”Ÿçš„è¿™ä¸€é¡¹**æŠµæ¶ˆ**ã€‚å‰©ä¸‹çš„å‡€åŠ›çŸ©ï¼Œå°±åªå— PID ($k_R, k_\omega$) æŒ‡æŒ¥äº†ã€‚

------

## ä¸ºä»€ä¹ˆç†è®ºä¸ŠæœŸæœ›å§¿æ€å’ŒæœŸæœ›é€Ÿåº¦ä¼šåŒæ—¶æ»¡è¶³ï¼Ÿ

### èƒ½é‡çš„è§†è§’(æœ¬è´¨)

æƒ³è±¡ä¸€ä¸ªç¢—ï¼Œç¢—åº•å°±æ˜¯æœŸæœ›å§¿æ€ ($e_R=0$)ã€‚å°çƒå°±æ˜¯ä½ çš„é£æœºã€‚

1. **ä½ç½®è¯¯å·® $e_R$ (Pé¡¹)** = **é«˜åº¦ï¼ˆåŠ¿èƒ½ï¼‰**ã€‚
   - åªè¦ä½ æ²¡åˆ°ç¢—åº•ï¼Œé‡åŠ›ï¼ˆPé¡¹åŠ›çŸ©ï¼‰å°±ä¼šæŠŠä½ å¾€ä¸‹æ‹‰ã€‚
2. **é€Ÿåº¦è¯¯å·® $e_\omega$ (Dé¡¹)** = **é˜»åŠ›ï¼ˆæ‘©æ“¦åŠ›/è€—æ•£ï¼‰**ã€‚
   - åªè¦ä½ åœ¨åŠ¨ï¼Œç©ºæ°”é˜»åŠ›ï¼ˆDé¡¹åŠ›çŸ©ï¼‰å°±ä¼šå·èµ°ä½ çš„èƒ½é‡ã€‚

**ä¸ºä»€ä¹ˆåˆšå¥½åŒæ—¶ä¸º0ï¼Ÿ**

- **å‡è®¾ 1ï¼šåˆ°äº†ä½ç½®ï¼Œä½†é€Ÿåº¦ä¸ä¸º 0**
  - å°çƒå†²åˆ°äº†ç¢—åº•ï¼ˆ$e_R=0$ï¼‰ï¼Œä½†å®ƒæœ‰é€Ÿåº¦ã€‚
  - è¿™å°±æ„å‘³ç€å®ƒæœ‰**åŠ¨èƒ½**ã€‚æœ‰åŠ¨èƒ½å®ƒå°±ä¼šå†²è¿‡ç¢—åº•ï¼Œå¾€å¦ä¸€è¾¹çˆ¬å¡ã€‚
  - ä¸€æ—¦çˆ¬å¡ï¼Œä½ç½®è¯¯å·® $e_R$ å°±åˆä¸ä¸º 0 äº†ã€‚
  - **ç»“è®ºï¼š** é€Ÿåº¦ä¸ä¸º0ï¼Œä½ç½®å°±ä¸å¯èƒ½ä¿æŒä¸º0ã€‚
- **å‡è®¾ 2ï¼šæ²¡åˆ°ä½ç½®ï¼Œä½†é€Ÿåº¦ä¸º 0**
  - å°çƒåœåœ¨åŠå±±è…°ï¼ˆ$e_R \neq 0$ï¼‰ï¼Œé€Ÿåº¦ä¸º0ã€‚
  - è¿™å°±æ„å‘³ç€å®ƒæœ‰**åŠ¿èƒ½**ã€‚
  - Pé¡¹ï¼ˆé‡åŠ›ï¼‰è¿˜åœ¨å¹²æ´»å•Šï¼å®ƒä¼šæŠŠä½ å¾€ä¸‹æ‹‰ï¼Œä½ çš„é€Ÿåº¦ç«‹é©¬å°±ä¸æ˜¯ 0 äº†ã€‚
  - **ç»“è®ºï¼š** ä½ç½®ä¸ä¸º0ï¼Œé€Ÿåº¦å°±ä¸å¯èƒ½ä¿æŒä¸º0ã€‚

æœ€ç»ˆç»“å±€ï¼šæ•´ä¸ªç³»ç»Ÿé‡Œï¼Œèƒ½é‡åªæœ‰ä¸¤ä¸ªå»å¤„ï¼šè¦ä¹ˆå˜æˆåŠ¨èƒ½ï¼Œè¦ä¹ˆå˜æˆåŠ¿èƒ½ã€‚è€Œ Dé¡¹ï¼ˆ$e_\omega$ï¼‰åƒä¸ªå¸è¡€é¬¼ä¸€æ ·ä¸æ–­åœ°æŠŠæ€»èƒ½é‡æŠ½èµ°ã€‚ç³»ç»Ÿå”¯ä¸€èƒ½â€œå®‰æ¯â€çš„çŠ¶æ€ï¼Œå°±æ˜¯èƒ½é‡è¢«æŠ½å¹²çš„é‚£ä¸€åˆ»ã€‚é‚£ä¸€åˆ»ï¼Œå¿…é¡»æ˜¯ æ—¢æ²¡æœ‰é«˜åº¦ï¼ˆåŠ¿èƒ½=0ï¼‰ï¼Œä¹Ÿæ²¡æœ‰é€Ÿåº¦ï¼ˆåŠ¨èƒ½=0ï¼‰ã€‚æ‰€ä»¥ï¼Œå®ƒä»¬å¿…é¡»åŒæ—¶åˆ°è¾¾ $(0,0)$ ç‚¹ã€‚

------

### æ•°å­¦çš„è§†è§’ï¼ˆç›¸å¹³é¢ Phase Planeï¼‰

åœ¨æ•°å­¦ä¸Šï¼Œä½ç½®å’Œé€Ÿåº¦ä¸æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å˜é‡ï¼Œå®ƒä»¬é€šè¿‡æ—¶é—´ç´§ç´§æ†ç»‘åœ¨ä¸€èµ·[å¯è§†åŒ–](.\visual\PhasePlaneFlowField.html)ã€‚

- æ¨ªè½´ï¼šä½ç½®è¯¯å·® $e_R$
- çºµè½´ï¼šé€Ÿåº¦è¯¯å·® $e_\omega$

å› ä¸ºç‰©ç†å…¬å¼ $\frac{d(e_R)}{dt} = e_\omega$ å­˜åœ¨ï¼Œç³»ç»Ÿçš„çŠ¶æ€ç‚¹ä¸èƒ½åœ¨å›¾ä¸Šä¹±è·‘ï¼Œå®ƒå¿…é¡»éµå¾ª**æµåœº**çš„è§„åˆ™ã€‚

**çœ‹å›¾è¯´è¯ï¼š**

1. **èºæ—‹çº¿ï¼ˆSpiralï¼‰**ï¼šé‚£ä¸ªåƒèœ—ç‰›å£³ä¸€æ ·çš„çº¿æ¡ï¼Œå°±æ˜¯é£æœºçš„çŠ¶æ€è½¨è¿¹ã€‚
2. **å‘å¿ƒåŠ›**ï¼šPé¡¹ï¼ˆæ¨ªè½´æ‹‰åŠ›ï¼‰æƒ³æŠŠç‚¹æ‹‰å‘ Y è½´ï¼ˆä½ç½®å½’é›¶ï¼‰ã€‚
3. **é˜»åŠ›**ï¼šDé¡¹ï¼ˆçºµè½´é˜»åŠ›ï¼‰æƒ³æŠŠç‚¹å‹å‘ X è½´ï¼ˆé€Ÿåº¦å½’é›¶ï¼‰ã€‚
4. **è€¦åˆæ•ˆåº”**ï¼š
   - åªè¦ä½ åœ¨ X è½´ä¸Šæ–¹ï¼ˆé€Ÿåº¦ä¸ºæ­£ï¼‰ï¼Œæ¨ªåæ ‡ $e_R$ å°±**å¿…é¡»**å¢åŠ ã€‚
   - åªè¦ä½ åœ¨ X è½´ä¸‹æ–¹ï¼ˆé€Ÿåº¦ä¸ºè´Ÿï¼‰ï¼Œæ¨ªåæ ‡ $e_R$ å°±**å¿…é¡»**å‡å°ã€‚

è¿™ç§æ•°å­¦ä¸Šçš„å¼ºè€¦åˆï¼Œè¿«ä½¿è¿™æ¡è½¨è¿¹çº¿åªèƒ½åƒå†²è¿›ä¸‹æ°´é“çš„æ°´æµä¸€æ ·ï¼Œ**ç›˜æ—‹ç€ã€ä¸å¯é¿å…åœ°**æ±‡å…¥ä¸­å¿ƒç‚¹ $(0,0)$ã€‚ä¸å­˜åœ¨â€œä½ç½®åˆ°äº†ä½†é€Ÿåº¦æ²¡åœâ€çš„ç¨³å®šç‚¹ã€‚

------

### æ§åˆ¶çš„è§†è§’

å…¶å®ï¼Œå¹¶ä¸æ€»æ˜¯â€œåˆšå¥½â€ä¸€æ¬¡æˆåŠŸï¼Œè¿™å–å†³äºä½ çš„ Dé¡¹ ($k_\omega$) ç»™å¾—æœ‰å¤šå¤§[å¯è§†åŒ–](.\visual\PhasePlaneFlowField.html)ã€‚è¿™é‡Œæœ‰ä¸‰ç§æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯ç»å…¸çš„ PID è°ƒå‚ï¼‰ï¼š

1. **æ¬ é˜»å°¼ (Underdamped) â€”â€” Då¤ªå°**

   - ç°è±¡ï¼šåˆ°äº†æœŸæœ›å§¿æ€æ—¶ï¼Œé€Ÿåº¦è¿˜æ²¡åˆ¹ä½ã€‚
   - ç»“æœï¼šå†²è¿‡å»äº†ï¼ç„¶åå†è¢«æ‹‰å›æ¥ï¼Œå†å†²è¿‡å»â€¦â€¦åƒä¸å€’ç¿ä¸€æ ·éœ‡è¡å‡ æ¬¡ï¼Œæœ€åæ‰åœåœ¨ $(0,0)$ã€‚

2. **è¿‡é˜»å°¼ (Overdamped) â€”â€” Då¤ªå¤§**

   - ç°è±¡ï¼šè¿˜æ²¡åˆ°æœŸæœ›å§¿æ€ï¼Œé€Ÿåº¦å°±è¢«åˆ¹æ²¡äº†ã€‚

   - ç»“æœï¼šPé¡¹è¿˜å¾—è´¹åŠ²åœ°æ‹–ç€é£æœºæ…¢æ…¢æŒªè¿‡å»ã€‚

     - Pé¡¹è¯´ï¼šâ€œæˆ‘æœ‰åŠ¿èƒ½ï¼Œæˆ‘è¦æŠŠé£æœºæ‹‰è¿‡å»ï¼Œç»™ä½ åŠ é€Ÿï¼â€
     - Dé¡¹ï¼ˆæ‘©æ“¦ï¼‰è¯´ï¼šâ€œä¸è¡Œï¼ä½ åªè¦æ•¢æœ‰ä¸€ç‚¹ç‚¹é€Ÿåº¦ï¼Œæˆ‘å°±è¦æ”¶ä½ å·¨é¢çš„è¿‡è·¯è´¹ï¼ˆåå‘åŠ›çŸ©ï¼‰ã€‚â€
     - **ç»“æœ**ï¼šPé¡¹æä¾›çš„èƒ½é‡ï¼Œè¿˜æ²¡æ¥å¾—åŠè½¬åŒ–æˆâ€œåŠ¨èƒ½â€ï¼ˆé€Ÿåº¦ï¼‰ï¼Œå°±ç›´æ¥è¢«Dé¡¹è½¬åŒ–æˆâ€œçƒ­èƒ½â€ï¼ˆæ‘©æ“¦æŸè€—ï¼‰è€—æ•£æ‰äº†ã€‚

     **ç°è±¡**ï¼šé£æœºåƒæ˜¯åœ¨ç²˜ç¨ çš„èœ‚èœœé‡Œæ¸¸æ³³ï¼Œæ…¢æ…¢åœ°ã€ä¸€ç‚¹ç‚¹åœ°æŒªå‘ç›®æ ‡ï¼Œæ²¡æœ‰è¿‡å†²ï¼Œä½†ä¹Ÿæå…¶è¿Ÿé’ã€‚

3. **ä¸´ç•Œé˜»å°¼ (Critically Damped) â€”â€” Dåˆšåˆšå¥½**

   - ç°è±¡ï¼š**è¿™å°±æ˜¯ä½ è¯´çš„â€œåˆšå¥½â€ï¼**
   - å½“é£æœºæ— é™æ¥è¿‘æœŸæœ›å§¿æ€çš„é‚£ä¸€ç¬é—´ï¼Œé€Ÿåº¦åˆšå¥½è¢« D é¡¹åˆ¹åˆ°äº† 0ã€‚

#### åªæœ‰ P é¡¹ï¼ˆç†æƒ³æ— æ‘©æ“¦ï¼‰ï¼šèƒ½é‡çš„æ°¸æ’ä»¥æ­¤æ¶ˆå½¼é•¿

> ç†æƒ³ç¯å¢ƒä¸‹ï¼Œæ²¡æœ‰Dé¡¹ï¼ˆè€—æ•£ï¼‰ï¼Œåªæœ‰Pé¡¹ï¼Œå®ƒå°±ä¼šä¸€ç›´å›æ¥åŠ¨ã€‚èƒ½é‡åœ¨é€Ÿåº¦ï¼ˆåŠ¨èƒ½ï¼‰å’Œå§¿æ€å·®ï¼ˆåŠ¿èƒ½ï¼‰ä¹‹é—´è½¬æ¢

è¿™å°±æ˜¯ä¸€ä¸ª**â€œä¿å®ˆç³»ç»Ÿï¼ˆConservative Systemï¼‰â€**ã€‚

- **å…¬å¼**ï¼šTotal Energy = $k_p e_R^2$ (åŠ¿èƒ½) + $\frac{1}{2} J e_\omega^2$ (åŠ¨èƒ½) = Constantã€‚
- **ç°è±¡**ï¼šå°±åƒä¸€ä¸ªçœŸç©ºä¸­çš„å•æ‘†ã€‚ä½ æŠŠå®ƒæ‹‰é«˜ï¼ˆç»™åŠ¿èƒ½ï¼‰ï¼Œæ¾æ‰‹åå®ƒæ‰ä¸‹æ¥å˜æˆåŠ¨èƒ½ï¼Œå†²è¿‡æœ€ä½ç‚¹åˆå˜æˆåŠ¿èƒ½ã€‚
- **ç»“å±€**ï¼šå¦‚æœæ²¡æœ‰äººï¼ˆDé¡¹ï¼‰æ¥å·èµ°èƒ½é‡ï¼Œå®ƒä¼šæ°¸ç”Ÿæ°¸ä¸–åœ°æ‘†ä¸‹å»ï¼Œæ°¸è¿œåœä¸ä¸‹æ¥ã€‚

#### ç²¾ç¡®åˆ°è¾¾éé›¶çš„æœŸæœ›é€Ÿåº¦ï¼Ÿ

**æ§åˆ¶å™¨çš„ç‰©ç†åŸç†å®Œå…¨æ²¡å˜ï¼Œæˆ‘ä»¬åªæ˜¯é€šè¿‡æ•°å­¦å®šä¹‰ï¼ŒæŠŠâ€œå‘åº•â€æŒªåˆ°äº†ä¸€ä¸ªè¿åŠ¨çš„çŠ¶æ€ä¸Šã€‚**

##### (1) é‡æ–°å®šä¹‰â€œé›¶ç‚¹â€

åœ¨æ§åˆ¶å™¨çš„çœ¼é‡Œï¼Œå®ƒæ ¹æœ¬ä¸åœ¨ä¹ç»å¯¹é€Ÿåº¦æ˜¯ 0 è¿˜æ˜¯ 1000ã€‚å®ƒåªåœ¨ä¹**â€œè¯¯å·®â€**ã€‚

- **åŸæ¥çš„å‘åº•ï¼ˆæ‚¬åœï¼‰**ï¼š
  - ç›®æ ‡ï¼š$R_d = I, \omega_d = 0$
  - å‘åº•åæ ‡ï¼š$e_R=0, e_\omega=0$
  - ç‰©ç†å«ä¹‰ï¼šé™æ­¢ã€‚
- **ç°åœ¨çš„å‘åº•ï¼ˆç¿»æ»šï¼‰**ï¼š
  - ç›®æ ‡ï¼š$R_d = \dots, \omega_d = 360$
  - å‘åº•åæ ‡ï¼šä¾ç„¶æ˜¯ **$e_R=0, e_\omega=0$**ï¼
  - **è¿™é‡Œçš„é­”æ³•æ˜¯**ï¼šå½“ $e_\omega = 0$ æ—¶ï¼Œæ„å‘³ç€ $\omega_{å½“å‰} - 360 = 0$ï¼Œå³ $\omega_{å½“å‰} = 360$ã€‚

**ç»“è®º**ï¼šæ§åˆ¶å™¨ä¾ç„¶åœ¨æ‹¼å‘½æŠŠç³»ç»Ÿæ‹‰å‘ $(0,0)$ è¿™ä¸ªâ€œèƒ½é‡æœ€ä½ç‚¹â€ã€‚åªä¸è¿‡æˆ‘ä»¬é€šè¿‡å®šä¹‰ $e_\omega$ï¼Œè®©è¿™ä¸ª $(0,0)$ ç‚¹åœ¨ç‰©ç†ä¸–ç•Œé‡Œå¯¹åº”ç€â€œæ¯ç§’è½¬360åº¦â€ã€‚

##### (2) ä¸ºä»€ä¹ˆèƒ½â€œåˆšå¥½â€åŒ¹é…æœŸæœ›é€Ÿåº¦ï¼Ÿï¼ˆå‰é¦ˆçš„ä½œç”¨ï¼‰

è™½ç„¶åŸç†æ˜¯æ¢å‚è€ƒç³»ï¼Œä½†ç‰©ç†ä¸Šè¦å®ç°è¿™ä¸€ç‚¹ï¼Œéœ€è¦**åŠ›çŸ©çš„é…åˆ**ã€‚æƒ³è±¡ä½ åœ¨è·‘æ­¥æœºä¸Šï¼š

- **æ‚¬åœæ¨¡å¼**ï¼šè·‘æ­¥æœºæ²¡å¼€ã€‚ä½ è¦åœåœ¨ä¸­é—´ï¼Œåªéœ€è¦ä¸è·‘ï¼ˆåŠ›=0ï¼‰ã€‚
- **è¿½è¸ªæ¨¡å¼**ï¼šè·‘æ­¥æœºä»¥ 10km/h åé€€ã€‚ä½ è¦â€œåœâ€åœ¨ä¸­é—´ï¼ˆè¯¯å·®=0ï¼‰ï¼Œä½ å¿…é¡»**ä»¥ 10km/h å¥”è·‘**ã€‚

**åœ¨è¿™ä¸ªåŠ¨æ€å¹³è¡¡ç‚¹ä¸Šï¼ŒåŠ›çŸ©æ˜¯å¦‚ä½•å¹³è¡¡çš„ï¼Ÿ**å½“è¾¾åˆ°å®Œç¾çŠ¶æ€ï¼ˆ$e_R=0, e_\omega=0$ï¼‰æ—¶ï¼š

- Pé¡¹åŠ›çŸ© = 0ã€‚
- Dé¡¹åŠ›çŸ© = 0ã€‚
- **é‚£è°æ¥ç»´æŒé£æœºè½¬åŠ¨å‘¢ï¼Ÿ**ï¼ˆæ¯•ç«Ÿè½¬åŠ¨æ˜¯æœ‰é™€èºæ•ˆåº”ç­‰é˜»åŠ›çš„ï¼‰

è¿™æ—¶å€™ï¼Œå‰é¦ˆé¡¹ï¼ˆFeedforwardï¼‰ æˆ–è€… ç§¯åˆ†é¡¹ï¼ˆIé¡¹ï¼‰ å°±ç«™å‡ºæ¥äº†ã€‚åœ¨ä½ çš„å…¬å¼é‡Œï¼Œä¸»è¦æ˜¯é‚£é¡¹ $\omega \times J\omega$ ä»¥åŠæ½œåœ¨çš„ $\omega_d$ å¯¼æ•°é¡¹ã€‚

###### ç†æƒ³æ— é˜»åŠ›ä¸–ç•Œ

å‡è®¾æ²¡æœ‰ç©ºæ°”é˜»åŠ›ï¼Œæ²¡æœ‰é‡åŠ›ï¼Œåªæœ‰åˆšä½“è‡ªå·±åœ¨è½¬ã€‚å…¬å¼å˜æˆäº†ï¼š
$$
0 = J\dot{\omega} + \omega \times (J\omega) \\
J\dot{\omega} = - \omega \times (J\omega)
$$
**æƒ…å†µ Aï¼šå®Œç¾çš„æ—‹è½¬ï¼ˆç»•â€œä¸»è½´â€æ—‹è½¬ï¼‰**

å¦‚æœä½ è®©é£æœºç»•ç€å®ƒçš„ **Xè½´ï¼ˆæœºèº«è½´ï¼‰** çº¯ç²¹åœ°æ»šè½¬ï¼Œä¸”é£æœºçš„è´¨é‡åˆ†å¸ƒéå¸¸å®Œç¾ï¼ˆXè½´æ˜¯ä¸»æƒ¯æ€§è½´ï¼‰ã€‚

- æ­¤æ—¶ $\omega$ å’Œ $J\omega$ æ˜¯å¹³è¡Œçš„ã€‚
  - **æ•°å­¦ç»“æœ**ï¼š$\omega \times (J\omega) = 0$ã€‚
  - **ç‰©ç†ç»“æœ**ï¼š$J\dot{\omega} = 0 \implies \dot{\omega} = 0$ã€‚
- **ç»“è®º**ï¼š**å®ƒä¼šåƒä¸€é¢—å­å¼¹ä¸€æ ·ï¼Œæ°¸è¿œåŒ€é€Ÿã€ç¨³å®šåœ°è½¬ä¸‹å»ï¼Œæ—¢ä¸ä¼šåœï¼Œä¹Ÿä¸ä¼šâ€œæ‰å¤´â€ã€‚** ä¸éœ€è¦ä»»ä½•åŠ›çŸ©ç»´æŒã€‚

**æƒ…å†µ Bï¼šä¸ç¨³å®šçš„æ—‹è½¬**

åœ¨ç‰©ç†å­¦ä¸Šå« **â€œä¸­é—´è½´ä¸ç¨³å®šæ€§â€ (Intermediate Axis Theorem / Tennis Racket Theorem)**ã€‚å¦‚æœä½ è®©é£æœºç»•ç€ä¸€ä¸ª**â€œä¸èˆ’æœçš„è½´â€**ï¼ˆæ—¢ä¸æ˜¯æƒ¯é‡æœ€å¤§è½´ï¼Œä¹Ÿä¸æ˜¯æƒ¯é‡æœ€å°è½´ï¼Œè€Œæ˜¯ä¸­é—´é‚£ä¸ªè½´ï¼‰æ—‹è½¬ã€‚

- **ç°è±¡**ï¼šè™½ç„¶ä½ ä¸€å¼€å§‹æ²¡ç»™å®ƒåŠ›çŸ©ï¼Œä½†å› ä¸º $\omega \times (J\omega)$ è¿™ä¸€é¡¹åœ¨å†…éƒ¨ä¸æ–­åœ°æŠŠèƒ½é‡åœ¨ä¸‰ä¸ªè½´ä¹‹é—´å€’è…¾ã€‚
- **ç»“æœ**ï¼šé£æœºè½¬ç€è½¬ç€ï¼Œä¼šçªç„¶**â€œç¿»ä¸ªèº«â€ï¼ˆFlipï¼‰**ï¼Œæ‰ä¸ªå¤´ç»§ç»­è½¬ï¼Œç„¶åå†ç¿»å›æ¥ã€‚
- **æ³¨æ„**ï¼šè¿™**ä¸æ˜¯**å› ä¸ºæœ‰ç©ºæ°”é˜»åŠ›ï¼Œè€Œæ˜¯åˆšä½“è‡ªèº«çš„å‡ ä½•ç‰¹æ€§å†³å®šçš„ï¼

------

###### çœŸå®ä¸–ç•Œï¼ˆæœ‰é˜»åŠ› + æœ‰æ§åˆ¶ï¼‰

1.**ç©ºæ°”é˜»åŠ›ï¼ˆDampingï¼‰**

ç©ºæ°”æ˜¯ç²˜ç¨ çš„ã€‚é£æœºä¸€è½¬ï¼Œå·¨å¤§çš„æœºç¿¼åœ¨æ…åŠ¨ç©ºæ°”ã€‚

- **ç‰©ç†**ï¼šç©ºæ°”ä¼šå¯¹é£æœºäº§ç”Ÿä¸€ä¸ªåå‘çš„åŠ›çŸ© $\tau_{drag} = -k \omega$ã€‚
- **åæœ**ï¼šå¦‚æœä¸åŠ æ²¹é—¨ï¼ˆä¸è¾“å‡ºç”µæœºåŠ›çŸ©ï¼‰ï¼ŒåŠ¨èƒ½ä¼šè¢«ç©ºæ°”ç¬é—´æŠ½å¹²ï¼Œè½¬é€Ÿ $\omega$ ä¼šè¿…é€Ÿå½’é›¶ã€‚
- **å¯¹ç­–**ï¼šæˆ‘ä»¬éœ€è¦ç”µæœºæŒç»­è¾“å‡ºåŠ›çŸ©ï¼Œæ¥æŠµæ¶ˆè¿™ä¸ªæ‘©æ“¦æ¶ˆè€—ã€‚

2.**é™€èºåŠ›çŸ©ï¼ˆGyroscopic Couplingï¼‰**

- **åœºæ™¯**ï¼šå‡è®¾ä½ åœ¨åšä¸€ä¸ª**å¤§æœºåŠ¨**ï¼ˆæ¯”å¦‚èºæ—‹ä¸Šå‡ï¼‰ï¼Œä½ ä¸ä»…åœ¨æ»šè½¬ï¼ˆRollï¼‰ï¼Œè¿˜åœ¨æŠ¬å¤´ï¼ˆPitchï¼‰ã€‚

- **ç‰©ç†**ï¼šè¿™æ—¶å€™ $\omega$ æ˜¯ä¸€ä¸ªå¤æ‚çš„å‘é‡ï¼ˆæ¯”å¦‚ $[300, 20, 0]^T$ï¼‰ã€‚

- **åæœ**ï¼š

  - æ ¹æ® $\omega \times (J\omega)$ï¼Œæ»šè½¬çš„é€Ÿåº¦ä¼šâ€œæ±¡æŸ“â€åˆ°åèˆªè½´ï¼ˆYawï¼‰ã€‚
  - ä¹Ÿå°±æ˜¯ï¼š**ä½ æ˜æ˜åªæƒ³æŠ¬å¤´ï¼Œé£æœºå´éè¦å¾€å³åã€‚** è¿™ç§å¥‡æ€ªçš„åè½¬åŠ›å°±æ˜¯é™€èºåŠ›çŸ©ã€‚
  - è¿™ä¸æ˜¯â€œæ‰å¤´â€ï¼Œè€Œæ˜¯**â€œè·‘åâ€**ã€‚

- **å¯¹ç­–**ï¼š

  - è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ§åˆ¶å¾‹ Step C é‡ŒåŠ äº†å‰é¦ˆé¡¹ï¼š
    $$
    \tau_{ç”µæœº} = \dots + \mathbf{\omega \times (J\omega)}
    $$

  - **ç›®çš„**ï¼šç”µæœº**ä¸»åŠ¨**è¾“å‡ºä¸€ä¸ªåŠ›çŸ©ï¼Œå»æŠµæ¶ˆè¿™ä¸ªâ€œè·‘åâ€çš„è¶‹åŠ¿ã€‚

  - **æ½œå°è¯**ï¼šç”µæœºè¯´ï¼šâ€œæˆ‘çŸ¥é“ä½ ä¸€æŠ¬å¤´å°±ä¼šå¾€å³åï¼Œæ‰€ä»¥æˆ‘æå‰å¾€å·¦æ‰“ä¸€ç‚¹åŠ›ï¼Œå’±ä»¬æ‰¯å¹³äº†ã€‚â€

- å³ä½¿åœ¨è¯¯å·®ä¸º 0 æ—¶ï¼Œæ§åˆ¶å™¨ï¼ˆå¦‚æœæ˜¯å®Œå…¨çš„å‰é¦ˆæ§åˆ¶ï¼‰ä¾ç„¶ä¼šè¾“å‡ºä¸€ä¸ª**åŸºç¡€åŠ›çŸ©**ã€‚
- è¿™ä¸ªåŸºç¡€åŠ›çŸ©ï¼Œåˆšå¥½æŠµæ¶ˆäº†é£æœºåšè¯¥åŠ¨ä½œæ—¶çš„ç‰©ç†é˜»åŠ›/é™€èºåŠ›çŸ©ã€‚
- **ç»“æœ**ï¼šé£æœºåœ¨â€œæ— è¯¯å·®â€çš„çŠ¶æ€ä¸‹ï¼Œè¢«è¿™ä¸ªåŸºç¡€åŠ›çŸ©æ¨ç€ï¼Œæƒ¯æ€§åœ°ä¿æŒç€æœŸæœ›é€Ÿåº¦ $\omega_d$ã€‚